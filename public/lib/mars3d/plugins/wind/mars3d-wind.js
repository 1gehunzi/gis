(function(_0x35cd88,_0x2c579a){var _0x5c5715=a0_0x2834,_0x257079=_0x35cd88();while(!![]){try{var _0x5f069f=parseInt(_0x5c5715(0x187))/0x1*(parseInt(_0x5c5715(0x1f2))/0x2)+parseInt(_0x5c5715(0x149))/0x3+-parseInt(_0x5c5715(0x100))/0x4+-parseInt(_0x5c5715(0x21f))/0x5*(-parseInt(_0x5c5715(0x10d))/0x6)+-parseInt(_0x5c5715(0x1f3))/0x7+parseInt(_0x5c5715(0x15e))/0x8+-parseInt(_0x5c5715(0x18b))/0x9*(-parseInt(_0x5c5715(0x138))/0xa);if(_0x5f069f===_0x2c579a)break;else _0x257079['push'](_0x257079['shift']());}catch(_0x432a41){_0x257079['push'](_0x257079['shift']());}}}(a0_0x1ba0,0xe132d),!function(_0xf71fa0,_0x22c7fd){var _0x2a2bbd=a0_0x2834;_0x2a2bbd(0x204)==typeof exports&&_0x2a2bbd(0x204)==typeof module?module[_0x2a2bbd(0x1df)]=_0x22c7fd(require(_0x2a2bbd(0x1f9)),require(_0x2a2bbd(0x163))):_0x2a2bbd(0x113)==typeof define&&define[_0x2a2bbd(0x194)]?define('mars3dWind',[_0x2a2bbd(0x1f9),_0x2a2bbd(0x163)],_0x22c7fd):_0x2a2bbd(0x204)==typeof exports?exports[_0x2a2bbd(0xc5)]=_0x22c7fd(require(_0x2a2bbd(0x1f9)),require(_0x2a2bbd(0x163))):_0xf71fa0[_0x2a2bbd(0xc5)]=_0x22c7fd(_0xf71fa0[_0x2a2bbd(0x158)],_0xf71fa0[_0x2a2bbd(0x163)]);}(window,function(_0x541af2,_0x1c5d0e){return function(_0x3559a5){var _0x1a1df2={};function _0x57960e(_0x2001fc){var _0x2ca190=a0_0x2834;if(_0x1a1df2[_0x2001fc])return _0x1a1df2[_0x2001fc][_0x2ca190(0x1df)];var _0xca09e4=_0x1a1df2[_0x2001fc]={'i':_0x2001fc,'l':!0x1,'exports':{}};return _0x3559a5[_0x2001fc][_0x2ca190(0x1b2)](_0xca09e4['exports'],_0xca09e4,_0xca09e4['exports'],_0x57960e),_0xca09e4['l']=!0x0,_0xca09e4[_0x2ca190(0x1df)];}return _0x57960e['m']=_0x3559a5,_0x57960e['c']=_0x1a1df2,_0x57960e['d']=function(_0x157a4d,_0x46558d,_0x94f6f0){var _0x475d4c=a0_0x2834;_0x57960e['o'](_0x157a4d,_0x46558d)||Object[_0x475d4c(0x125)](_0x157a4d,_0x46558d,{'enumerable':!0x0,'get':_0x94f6f0});},_0x57960e['r']=function(_0x4146fa){var _0x5917b8=a0_0x2834;_0x5917b8(0x1e3)!=typeof Symbol&&Symbol[_0x5917b8(0xc7)]&&Object[_0x5917b8(0x125)](_0x4146fa,Symbol[_0x5917b8(0xc7)],{'value':_0x5917b8(0x1e0)}),Object[_0x5917b8(0x125)](_0x4146fa,_0x5917b8(0x189),{'value':!0x0});},_0x57960e['t']=function(_0xb0d0b1,_0x4e244b){var _0xcbcfd6=a0_0x2834;if(0x1&_0x4e244b&&(_0xb0d0b1=_0x57960e(_0xb0d0b1)),0x8&_0x4e244b)return _0xb0d0b1;if(0x4&_0x4e244b&&'object'==typeof _0xb0d0b1&&_0xb0d0b1&&_0xb0d0b1['__esModule'])return _0xb0d0b1;var _0x497405=Object['create'](null);if(_0x57960e['r'](_0x497405),Object[_0xcbcfd6(0x125)](_0x497405,_0xcbcfd6(0x18d),{'enumerable':!0x0,'value':_0xb0d0b1}),0x2&_0x4e244b&&_0xcbcfd6(0x228)!=typeof _0xb0d0b1){for(var _0x5e7668 in _0xb0d0b1)_0x57960e['d'](_0x497405,_0x5e7668,function(_0x44f2fd){return _0xb0d0b1[_0x44f2fd];}[_0xcbcfd6(0x132)](null,_0x5e7668));}return _0x497405;},_0x57960e['n']=function(_0x27ff86){var _0x3cf88f=a0_0x2834,_0x172c88=_0x27ff86&&_0x27ff86[_0x3cf88f(0x189)]?function(){var _0x2db3aa=_0x3cf88f;return _0x27ff86[_0x2db3aa(0x18d)];}:function(){return _0x27ff86;};return _0x57960e['d'](_0x172c88,'a',_0x172c88),_0x172c88;},_0x57960e['o']=function(_0x52a3f4,_0x2449d7){var _0x384690=a0_0x2834;return Object[_0x384690(0x221)][_0x384690(0xf2)]['call'](_0x52a3f4,_0x2449d7);},_0x57960e['p']='',_0x57960e(_0x57960e['s']=0x14);}([function(_0x37799a,_0x29a895){_0x37799a['exports']=_0x541af2;},function(_0x4d0264,_0x4c4199){_0x4d0264['exports']=_0x1c5d0e;},function(_0x149115,_0x1dd055){var _0x3b79c0=a0_0x2834;_0x149115[_0x3b79c0(0x1df)]=function(_0x29f056,_0x4fc51e){var _0x20c4d9=_0x3b79c0;if(!(_0x29f056 instanceof _0x4fc51e))throw new TypeError(_0x20c4d9(0x1af));},_0x149115[_0x3b79c0(0x1df)][_0x3b79c0(0x189)]=!0x0,_0x149115['exports'][_0x3b79c0(0x18d)]=_0x149115['exports'];},function(_0x5c28f0,_0xdfb5d9){var _0x5b33a3=a0_0x2834;function _0x2ca1b6(_0xd72ad3,_0x40be76){var _0x7bafd6=a0_0x2834;for(var _0x3a3d6d=0x0;_0x3a3d6d<_0x40be76[_0x7bafd6(0xba)];_0x3a3d6d++){var _0x246f4d=_0x40be76[_0x3a3d6d];_0x246f4d[_0x7bafd6(0x12a)]=_0x246f4d['enumerable']||!0x1,_0x246f4d[_0x7bafd6(0x1c6)]=!0x0,_0x7bafd6(0xc4)in _0x246f4d&&(_0x246f4d[_0x7bafd6(0x15c)]=!0x0),Object[_0x7bafd6(0x125)](_0xd72ad3,_0x246f4d[_0x7bafd6(0xb8)],_0x246f4d);}}_0x5c28f0[_0x5b33a3(0x1df)]=function(_0x586e57,_0x1e0723,_0x29e7e8){var _0x1da4da=_0x5b33a3;return _0x1e0723&&_0x2ca1b6(_0x586e57[_0x1da4da(0x221)],_0x1e0723),_0x29e7e8&&_0x2ca1b6(_0x586e57,_0x29e7e8),Object[_0x1da4da(0x125)](_0x586e57,_0x1da4da(0x221),{'writable':!0x1}),_0x586e57;},_0x5c28f0['exports'][_0x5b33a3(0x189)]=!0x0,_0x5c28f0['exports'][_0x5b33a3(0x18d)]=_0x5c28f0[_0x5b33a3(0x1df)];},function(_0x22ef4d,_0x626532){var _0x408a0a=a0_0x2834;function _0x3b7895(_0x20ba7b){var _0x291b03=a0_0x2834;return _0x22ef4d[_0x291b03(0x1df)]=_0x3b7895=Object[_0x291b03(0x1ac)]?Object[_0x291b03(0x213)]:function(_0x330e79){var _0x2ed8cf=_0x291b03;return _0x330e79['__proto__']||Object[_0x2ed8cf(0x213)](_0x330e79);},_0x22ef4d['exports'][_0x291b03(0x189)]=!0x0,_0x22ef4d['exports'][_0x291b03(0x18d)]=_0x22ef4d[_0x291b03(0x1df)],_0x3b7895(_0x20ba7b);}_0x22ef4d[_0x408a0a(0x1df)]=_0x3b7895,_0x22ef4d[_0x408a0a(0x1df)][_0x408a0a(0x189)]=!0x0,_0x22ef4d[_0x408a0a(0x1df)][_0x408a0a(0x18d)]=_0x22ef4d[_0x408a0a(0x1df)];},function(_0x115025,_0x32877c,_0x532ddd){var _0x3cc835=a0_0x2834,_0x21afbe=_0x532ddd(0x11);_0x115025[_0x3cc835(0x1df)]=function(_0x3dd315,_0xc0a2c7){var _0x442072=_0x3cc835;if(_0x442072(0x113)!=typeof _0xc0a2c7&&null!==_0xc0a2c7)throw new TypeError(_0x442072(0xf5));Object['defineProperty'](_0x3dd315,_0x442072(0x221),{'value':Object[_0x442072(0x117)](_0xc0a2c7&&_0xc0a2c7[_0x442072(0x221)],{'constructor':{'value':_0x3dd315,'writable':!0x0,'configurable':!0x0}}),'writable':!0x1}),_0xc0a2c7&&_0x21afbe(_0x3dd315,_0xc0a2c7);},_0x115025['exports'][_0x3cc835(0x189)]=!0x0,_0x115025[_0x3cc835(0x1df)]['default']=_0x115025[_0x3cc835(0x1df)];},function(_0x53ee90,_0x3fbd4f,_0x518696){var _0x11679e=a0_0x2834,_0x3cdd03=_0x518696(0x12)['default'],_0x1bfa9f=_0x518696(0x13);_0x53ee90[_0x11679e(0x1df)]=function(_0x5323fa,_0xb80fae){var _0x509bb2=_0x11679e;if(_0xb80fae&&(_0x509bb2(0x204)===_0x3cdd03(_0xb80fae)||'function'==typeof _0xb80fae))return _0xb80fae;if(void 0x0!==_0xb80fae)throw new TypeError(_0x509bb2(0x15f));return _0x1bfa9f(_0x5323fa);},_0x53ee90[_0x11679e(0x1df)]['__esModule']=!0x0,_0x53ee90[_0x11679e(0x1df)]['default']=_0x53ee90['exports'];},function(_0x4691ed,_0x502fc8){var _0x4a328f=a0_0x2834;_0x4691ed[_0x4a328f(0x1df)]=_0x4a328f(0x201);},function(_0x48ba61,_0x4d68fe){var _0x302e01=a0_0x2834;_0x48ba61[_0x302e01(0x1df)]=_0x302e01(0xe9);},function(_0x5d3dff,_0x139af4){var _0x4dd084=a0_0x2834;_0x5d3dff['exports']=_0x4dd084(0x1a9);},function(_0x4bdb28,_0x1fb827){var _0x18c9d2=a0_0x2834;_0x4bdb28[_0x18c9d2(0x1df)]=_0x18c9d2(0xb4);},function(_0xa81d7a,_0x238ef6){var _0x56d89e=a0_0x2834;_0xa81d7a[_0x56d89e(0x1df)]=_0x56d89e(0xe2);},function(_0x23384b,_0x5dd8bb){var _0xb9acda=a0_0x2834;_0x23384b[_0xb9acda(0x1df)]=_0xb9acda(0x14c);},function(_0x4e5635,_0x4b7ac4){var _0x2eaa98=a0_0x2834;_0x4e5635[_0x2eaa98(0x1df)]=_0x2eaa98(0x105);},function(_0x297d2f,_0x7c962b){var _0x4dbc05=a0_0x2834;_0x297d2f[_0x4dbc05(0x1df)]='uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}';},function(_0x3dd52d,_0xf3bf44){var _0x2a055d=a0_0x2834;_0x3dd52d[_0x2a055d(0x1df)]=_0x2a055d(0xbe);},function(_0x1d7032,_0x179b34){_0x1d7032['exports']='uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}';},function(_0x339d9f,_0x484af9){function _0x32f9e5(_0x585faa,_0x4d8978){var _0x1ca2c2=a0_0x2834;return _0x339d9f['exports']=_0x32f9e5=Object[_0x1ca2c2(0x1ac)]||function(_0x5273c9,_0x40380c){var _0x44d49c=_0x1ca2c2;return _0x5273c9[_0x44d49c(0xb0)]=_0x40380c,_0x5273c9;},_0x339d9f[_0x1ca2c2(0x1df)][_0x1ca2c2(0x189)]=!0x0,_0x339d9f[_0x1ca2c2(0x1df)][_0x1ca2c2(0x18d)]=_0x339d9f['exports'],_0x32f9e5(_0x585faa,_0x4d8978);}_0x339d9f['exports']=_0x32f9e5,_0x339d9f['exports']['__esModule']=!0x0,_0x339d9f['exports']['default']=_0x339d9f['exports'];},function(_0x52252e,_0x5b0c1e){var _0x4a4739=a0_0x2834;function _0x4d1da1(_0x3e3639){var _0x462111=a0_0x2834;return _0x52252e[_0x462111(0x1df)]=_0x4d1da1=_0x462111(0x113)==typeof Symbol&&_0x462111(0x155)==typeof Symbol[_0x462111(0x115)]?function(_0xd90bd4){return typeof _0xd90bd4;}:function(_0x43e852){var _0x20a376=_0x462111;return _0x43e852&&'function'==typeof Symbol&&_0x43e852[_0x20a376(0xec)]===Symbol&&_0x43e852!==Symbol[_0x20a376(0x221)]?'symbol':typeof _0x43e852;},_0x52252e[_0x462111(0x1df)]['__esModule']=!0x0,_0x52252e['exports']['default']=_0x52252e[_0x462111(0x1df)],_0x4d1da1(_0x3e3639);}_0x52252e[_0x4a4739(0x1df)]=_0x4d1da1,_0x52252e[_0x4a4739(0x1df)][_0x4a4739(0x189)]=!0x0,_0x52252e['exports'][_0x4a4739(0x18d)]=_0x52252e[_0x4a4739(0x1df)];},function(_0x383f00,_0x1611c0){var _0x2ab725=a0_0x2834;_0x383f00[_0x2ab725(0x1df)]=function(_0x2d2275){var _0x1e36a5=_0x2ab725;if(void 0x0===_0x2d2275)throw new ReferenceError(_0x1e36a5(0x1b7));return _0x2d2275;},_0x383f00['exports'][_0x2ab725(0x189)]=!0x0,_0x383f00[_0x2ab725(0x1df)][_0x2ab725(0x18d)]=_0x383f00[_0x2ab725(0x1df)];},function(_0x21318e,_0x37dd59,_0x5e3ba2){'use strict';var _0xe8cec3=a0_0x2834;_0x5e3ba2['r'](_0x37dd59),_0x5e3ba2['d'](_0x37dd59,_0xe8cec3(0x1e4),function(){return _0x235d4c;}),_0x5e3ba2['d'](_0x37dd59,_0xe8cec3(0x1ec),function(){return _0x4bd524;}),_0x5e3ba2['d'](_0x37dd59,_0xe8cec3(0x1fe),function(){return _0x599ed7;});var _0x599ed7={};_0x5e3ba2['r'](_0x599ed7),_0x5e3ba2['d'](_0x599ed7,'getU',function(){return _0x163167;}),_0x5e3ba2['d'](_0x599ed7,'getV',function(){return _0x106154;}),_0x5e3ba2['d'](_0x599ed7,_0xe8cec3(0xfa),function(){return _0x4a10f0;}),_0x5e3ba2['d'](_0x599ed7,_0xe8cec3(0x1f1),function(){return _0x21ca7c;});var _0x157332=_0x5e3ba2(0x1),_0x428fde=_0x5e3ba2(0x2),_0x230e53=_0x5e3ba2['n'](_0x428fde),_0xd82f81=_0x5e3ba2(0x3),_0x5e5c8a=_0x5e3ba2['n'](_0xd82f81),_0x1df7a5=_0x5e3ba2(0x5),_0x496f9c=_0x5e3ba2['n'](_0x1df7a5),_0x112c1f=_0x5e3ba2(0x6),_0x27b80c=_0x5e3ba2['n'](_0x112c1f),_0x296089=_0x5e3ba2(0x4),_0x2209e2=_0x5e3ba2['n'](_0x296089),_0x5ac2b1=_0x5e3ba2(0x0),_0x2f774f=(function(){var _0x23754f=_0xe8cec3;function _0x3d6d9d(_0x115ca9){var _0x3aa5eb=a0_0x2834;_0x230e53()(this,_0x3d6d9d),this[_0x3aa5eb(0x116)]=_0x115ca9[_0x3aa5eb(0x116)],this[_0x3aa5eb(0xd7)]=_0x115ca9[_0x3aa5eb(0xd7)],this[_0x3aa5eb(0x111)]=_0x115ca9[_0x3aa5eb(0x111)],this[_0x3aa5eb(0x174)]=_0x115ca9['primitiveType'],this[_0x3aa5eb(0x1c5)]=_0x115ca9['uniformMap'],this[_0x3aa5eb(0x11b)]=_0x115ca9['vertexShaderSource'],this[_0x3aa5eb(0xf3)]=_0x115ca9['fragmentShaderSource'],this['rawRenderState']=_0x115ca9['rawRenderState'],this[_0x3aa5eb(0x200)]=_0x115ca9[_0x3aa5eb(0x200)],this[_0x3aa5eb(0xd1)]=_0x115ca9['outputTexture'],this['autoClear']=_0x5ac2b1[_0x3aa5eb(0x1a2)](_0x115ca9[_0x3aa5eb(0x211)],!0x1),this[_0x3aa5eb(0x148)]=_0x115ca9[_0x3aa5eb(0x148)],this['show']=!0x0,this['commandToExecute']=void 0x0,this[_0x3aa5eb(0xef)]=void 0x0,this['autoClear']&&(this[_0x3aa5eb(0xef)]=new _0x5ac2b1[(_0x3aa5eb(0x1cc))]({'color':new _0x5ac2b1[(_0x3aa5eb(0x1bf))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x3aa5eb(0x200)],'pass':_0x5ac2b1[_0x3aa5eb(0x16a)][_0x3aa5eb(0xc9)]}));}return _0x5e5c8a()(_0x3d6d9d,[{'key':_0x23754f(0x1be),'value':function(_0x102b07){var _0x3e9e33=_0x23754f;switch(this[_0x3e9e33(0x116)]){case'Draw':var _0xe3f98c=_0x5ac2b1[_0x3e9e33(0x216)][_0x3e9e33(0x103)]({'context':_0x102b07,'geometry':this['geometry'],'attributeLocations':this[_0x3e9e33(0x111)],'bufferUsage':_0x5ac2b1[_0x3e9e33(0xe5)][_0x3e9e33(0x13c)]}),_0x23de32=_0x5ac2b1[_0x3e9e33(0xdd)]['fromCache']({'context':_0x102b07,'attributeLocations':this[_0x3e9e33(0x111)],'vertexShaderSource':this['vertexShaderSource'],'fragmentShaderSource':this[_0x3e9e33(0xf3)]}),_0x5c0807=_0x5ac2b1[_0x3e9e33(0x154)][_0x3e9e33(0x19f)](this[_0x3e9e33(0x209)]);return new _0x5ac2b1[(_0x3e9e33(0x127))]({'owner':this,'vertexArray':_0xe3f98c,'primitiveType':this[_0x3e9e33(0x174)],'uniformMap':this['uniformMap'],'modelMatrix':_0x5ac2b1[_0x3e9e33(0x1cd)]['IDENTITY'],'shaderProgram':_0x23de32,'framebuffer':this['framebuffer'],'renderState':_0x5c0807,'pass':_0x5ac2b1[_0x3e9e33(0x16a)][_0x3e9e33(0xc9)]});case _0x3e9e33(0x142):return new _0x5ac2b1[(_0x3e9e33(0x17f))]({'owner':this,'fragmentShaderSource':this[_0x3e9e33(0xf3)],'uniformMap':this['uniformMap'],'outputTexture':this[_0x3e9e33(0xd1)],'persists':!0x0});}}},{'key':'setGeometry','value':function(_0x55b5c2,_0x52c9db){var _0x272811=_0x23754f;this[_0x272811(0xd7)]=_0x52c9db;var _0x250920=_0x5ac2b1['VertexArray'][_0x272811(0x103)]({'context':_0x55b5c2,'geometry':this[_0x272811(0xd7)],'attributeLocations':this[_0x272811(0x111)],'bufferUsage':_0x5ac2b1['BufferUsage']['STATIC_DRAW']});this[_0x272811(0x20e)][_0x272811(0x1dd)]=_0x250920;}},{'key':_0x23754f(0x13a),'value':function(_0xa5820f){var _0x18a45d=_0x23754f;this['show']&&_0xa5820f[_0x18a45d(0xee)]==_0x5ac2b1[_0x18a45d(0x1d7)]['SCENE3D']&&(_0x5ac2b1[_0x18a45d(0x13e)](this[_0x18a45d(0x20e)])||(this[_0x18a45d(0x20e)]=this[_0x18a45d(0x1be)](_0xa5820f[_0x18a45d(0xf9)])),_0x5ac2b1[_0x18a45d(0x13e)](this[_0x18a45d(0x148)])&&this['preExecute'](),_0x5ac2b1[_0x18a45d(0x13e)](this['clearCommand'])&&_0xa5820f[_0x18a45d(0x1f0)]['push'](this['clearCommand']),_0xa5820f['commandList']['push'](this['commandToExecute']));}},{'key':_0x23754f(0x217),'value':function(){return!0x1;}},{'key':_0x23754f(0xd4),'value':function(){var _0x3f8171=_0x23754f;return _0x5ac2b1[_0x3f8171(0x13e)](this[_0x3f8171(0x20e)])&&(this['commandToExecute']['shaderProgram']=this[_0x3f8171(0x20e)]['shaderProgram']&&this[_0x3f8171(0x20e)][_0x3f8171(0x164)][_0x3f8171(0xd4)]()),_0x5ac2b1['destroyObject'](this);}}]),_0x3d6d9d;}()),_0x286967={'getFullscreenQuad':function(){var _0x16ab87=_0xe8cec3;return new _0x5ac2b1[(_0x16ab87(0x1d3))]({'attributes':new _0x5ac2b1[(_0x16ab87(0x191))]({'position':new _0x5ac2b1[(_0x16ab87(0x177))]({'componentDatatype':_0x5ac2b1[_0x16ab87(0x110)]['FLOAT'],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x5ac2b1[(_0x16ab87(0x177))]({'componentDatatype':_0x5ac2b1[_0x16ab87(0x110)]['FLOAT'],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x352701,_0x206772){var _0x188f8e=_0xe8cec3;if(_0x5ac2b1[_0x188f8e(0x13e)](_0x206772)){var _0x5827ef={};_0x5827ef[_0x188f8e(0x156)]=_0x206772,_0x352701['source']=_0x5827ef;}return new _0x5ac2b1['Texture'](_0x352701);},'createFramebuffer':function(_0x58c8b0,_0x1a7020,_0x1d6afe){var _0xdbf957=_0xe8cec3;return new _0x5ac2b1[(_0xdbf957(0x12d))]({'context':_0x58c8b0,'colorTextures':[_0x1a7020],'depthTexture':_0x1d6afe});},'createRawRenderState':function(_0x13e42f){var _0x4a4570=_0xe8cec3,_0x1c1a04={'viewport':_0x13e42f['viewport'],'depthTest':_0x13e42f['depthTest'],'depthMask':_0x13e42f[_0x4a4570(0x1d1)],'blending':_0x13e42f[_0x4a4570(0x1e7)]};return _0x5ac2b1[_0x4a4570(0x19a)][_0x4a4570(0x222)](!0x0,!0x1,_0x1c1a04);},'viewRectangleToLonLatRange':function(_0x1ceb22){var _0x402f0a=_0xe8cec3,_0x10ba44,_0x21002f,_0x484e0f={},_0x887917=_0x5ac2b1[_0x402f0a(0xcb)][_0x402f0a(0x128)](_0x1ceb22[_0x402f0a(0x173)],_0x5ac2b1[_0x402f0a(0xcb)][_0x402f0a(0xc3)]),_0x5f09d5=_0x5ac2b1['Math'][_0x402f0a(0x128)](_0x1ceb22['east'],_0x5ac2b1[_0x402f0a(0xcb)][_0x402f0a(0xc3)]),_0x7c1ed1=_0x1ceb22[_0x402f0a(0x1da)];_0x7c1ed1>_0x5ac2b1['Math']['THREE_PI_OVER_TWO']?(_0x10ba44=0x0,_0x21002f=_0x5ac2b1['Math'][_0x402f0a(0xc3)]):_0x5f09d5-_0x887917<_0x7c1ed1?(_0x10ba44=_0x887917,_0x21002f=_0x887917+_0x7c1ed1):(_0x10ba44=_0x887917,_0x21002f=_0x5f09d5),_0x484e0f['lon']={'min':_0x5ac2b1['Math'][_0x402f0a(0x1c1)](_0x10ba44),'max':_0x5ac2b1[_0x402f0a(0xcb)][_0x402f0a(0x1c1)](_0x21002f)};var _0x37a00b=_0x1ceb22[_0x402f0a(0x1ce)],_0x27d148=_0x1ceb22[_0x402f0a(0xfb)],_0x4e300b=_0x1ceb22[_0x402f0a(0x1b6)],_0x2c1278=_0x4e300b>_0x5ac2b1[_0x402f0a(0xcb)]['PI']/0xc?_0x4e300b/0x2:0x0,_0x21a4f5=_0x5ac2b1[_0x402f0a(0xcb)][_0x402f0a(0x169)](_0x37a00b-_0x2c1278),_0x42c202=_0x5ac2b1['Math'][_0x402f0a(0x169)](_0x27d148+_0x2c1278);return _0x21a4f5<-_0x5ac2b1[_0x402f0a(0xcb)][_0x402f0a(0x1e1)]&&(_0x21a4f5=-_0x5ac2b1[_0x402f0a(0xcb)][_0x402f0a(0x153)]),_0x42c202>_0x5ac2b1['Math'][_0x402f0a(0x1e1)]&&(_0x42c202=_0x5ac2b1['Math']['PI_OVER_TWO']),_0x484e0f[_0x402f0a(0x11a)]={'min':_0x5ac2b1[_0x402f0a(0xcb)][_0x402f0a(0x1c1)](_0x21a4f5),'max':_0x5ac2b1['Math'][_0x402f0a(0x1c1)](_0x42c202)},_0x484e0f;}},_0x46b663=_0x5e3ba2(0x8),_0x51fec7=_0x5e3ba2['n'](_0x46b663),_0x46a8b4=_0x5e3ba2(0x9),_0x3b23fa=_0x5e3ba2['n'](_0x46a8b4),_0x3bbd64=_0x5e3ba2(0x7),_0x2578c0=_0x5e3ba2['n'](_0x3bbd64),_0x26a015=_0x5e3ba2(0xa),_0x28fc3f=_0x5e3ba2['n'](_0x26a015),_0x481a7e=_0x5e3ba2(0xb),_0x441221=_0x5e3ba2['n'](_0x481a7e),_0x29fca4=(function(){var _0x56f390=_0xe8cec3;function _0x2c6937(_0xb21c45,_0x229fe6,_0x3ba8c5,_0x2d92c8,_0x4f57ba){var _0x26a9a0=a0_0x2834;_0x230e53()(this,_0x2c6937),this[_0x26a9a0(0xfc)](_0xb21c45,_0x229fe6),this['createRenderingFramebuffers'](_0xb21c45),this['createRenderingPrimitives'](_0xb21c45,_0x3ba8c5,_0x2d92c8,_0x4f57ba);}return _0x5e5c8a()(_0x2c6937,[{'key':_0x56f390(0xfc),'value':function(_0x323b47,_0x59a9c9){var _0x41b12d=_0x56f390,_0x1f47f7={'context':_0x323b47,'width':_0x323b47[_0x41b12d(0xda)],'height':_0x323b47[_0x41b12d(0x196)],'pixelFormat':_0x5ac2b1['PixelFormat']['RGBA'],'pixelDatatype':_0x5ac2b1[_0x41b12d(0x15b)]['UNSIGNED_BYTE']},_0x26a2bb={'context':_0x323b47,'width':_0x323b47[_0x41b12d(0xda)],'height':_0x323b47['drawingBufferHeight'],'pixelFormat':_0x5ac2b1['PixelFormat'][_0x41b12d(0xde)],'pixelDatatype':_0x5ac2b1[_0x41b12d(0x15b)][_0x41b12d(0x16c)]},_0x2f1194={'context':_0x323b47,'width':_0x59a9c9[_0x41b12d(0x12e)][_0x41b12d(0x104)],'height':0x1,'pixelFormat':_0x5ac2b1[_0x41b12d(0x18e)][_0x41b12d(0x1f4)],'pixelDatatype':_0x5ac2b1[_0x41b12d(0x15b)][_0x41b12d(0x1b5)],'sampler':new _0x5ac2b1[(_0x41b12d(0x17d))]({'minificationFilter':_0x5ac2b1[_0x41b12d(0x176)][_0x41b12d(0x1ab)],'magnificationFilter':_0x5ac2b1[_0x41b12d(0x167)][_0x41b12d(0x1ab)]})};this['textures']={'segmentsColor':_0x286967['createTexture'](_0x1f47f7),'segmentsDepth':_0x286967['createTexture'](_0x26a2bb),'currentTrailsColor':_0x286967[_0x41b12d(0x1f8)](_0x1f47f7),'currentTrailsDepth':_0x286967['createTexture'](_0x26a2bb),'nextTrailsColor':_0x286967[_0x41b12d(0x1f8)](_0x1f47f7),'nextTrailsDepth':_0x286967['createTexture'](_0x26a2bb),'colorTable':_0x286967[_0x41b12d(0x1f8)](_0x2f1194,_0x59a9c9['colorTable'][_0x41b12d(0x1b4)])};}},{'key':_0x56f390(0x1a7),'value':function(_0x560a3b){var _0x4284f3=_0x56f390;this[_0x4284f3(0x152)]={'segments':_0x286967[_0x4284f3(0xe7)](_0x560a3b,this[_0x4284f3(0x19b)][_0x4284f3(0x118)],this['textures'][_0x4284f3(0xf8)]),'currentTrails':_0x286967['createFramebuffer'](_0x560a3b,this[_0x4284f3(0x19b)][_0x4284f3(0x13f)],this['textures'][_0x4284f3(0x225)]),'nextTrails':_0x286967[_0x4284f3(0xe7)](_0x560a3b,this[_0x4284f3(0x19b)][_0x4284f3(0x135)],this[_0x4284f3(0x19b)][_0x4284f3(0xce)])};}},{'key':'createSegmentsGeometry','value':function(_0x4bf141){var _0x3127d3=_0x56f390;for(var _0x12ee96=[],_0x43b4ad=0x0;_0x43b4ad<_0x4bf141[_0x3127d3(0x20a)];_0x43b4ad++)for(var _0x4a4d69=0x0;_0x4a4d69<_0x4bf141[_0x3127d3(0x20a)];_0x4a4d69++)for(var _0x1ea059=0x0;_0x1ea059<0x4;_0x1ea059++)_0x12ee96[_0x3127d3(0x11f)](_0x43b4ad/_0x4bf141[_0x3127d3(0x20a)]),_0x12ee96[_0x3127d3(0x11f)](_0x4a4d69/_0x4bf141[_0x3127d3(0x20a)]);_0x12ee96=new Float32Array(_0x12ee96);for(var _0x5025ca=[],_0x31f1ee=[-0x1,0x1],_0x172627=[-0x1,0x1],_0x34deef=0x0;_0x34deef<_0x4bf141[_0x3127d3(0x224)];_0x34deef++)for(var _0x74a074=0x0;_0x74a074<0x2;_0x74a074++)for(var _0x16ee6c=0x0;_0x16ee6c<0x2;_0x16ee6c++)_0x5025ca[_0x3127d3(0x11f)](_0x31f1ee[_0x74a074]),_0x5025ca[_0x3127d3(0x11f)](_0x172627[_0x16ee6c]),_0x5025ca[_0x3127d3(0x11f)](0x0);_0x5025ca=new Float32Array(_0x5025ca);for(var _0x45117b=0x6*_0x4bf141['maxParticles'],_0x5b5a19=new Uint32Array(_0x45117b),_0x3f1db2=0x0,_0x233e47=0x0,_0xd8ffd3=0x0;_0x3f1db2<_0x4bf141[_0x3127d3(0x224)];_0x3f1db2++)_0x5b5a19[_0x233e47++]=_0xd8ffd3+0x0,_0x5b5a19[_0x233e47++]=_0xd8ffd3+0x1,_0x5b5a19[_0x233e47++]=_0xd8ffd3+0x2,_0x5b5a19[_0x233e47++]=_0xd8ffd3+0x2,_0x5b5a19[_0x233e47++]=_0xd8ffd3+0x1,_0x5b5a19[_0x233e47++]=_0xd8ffd3+0x3,_0xd8ffd3+=0x4;return new _0x5ac2b1[(_0x3127d3(0x1d3))]({'attributes':new _0x5ac2b1[(_0x3127d3(0x191))]({'st':new _0x5ac2b1[(_0x3127d3(0x177))]({'componentDatatype':_0x5ac2b1[_0x3127d3(0x110)][_0x3127d3(0x1b5)],'componentsPerAttribute':0x2,'values':_0x12ee96}),'normal':new _0x5ac2b1['GeometryAttribute']({'componentDatatype':_0x5ac2b1[_0x3127d3(0x110)][_0x3127d3(0x1b5)],'componentsPerAttribute':0x3,'values':_0x5025ca})}),'indices':_0x5b5a19});}},{'key':_0x56f390(0xff),'value':function(_0x375cc4,_0x12b33a,_0x15628c,_0x1356c6){var _0x20e922=_0x56f390,_0x6a1b68=this;this[_0x20e922(0xe0)]={'segments':new _0x2f774f({'commandType':'Draw','attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x20e922(0x218)](_0x12b33a),'primitiveType':_0x5ac2b1[_0x20e922(0x1bc)][_0x20e922(0x20b)],'uniformMap':{'currentParticlesPosition':function(){var _0x3e5958=_0x20e922;return _0x1356c6[_0x3e5958(0x101)][_0x3e5958(0x197)];},'postProcessingPosition':function(){var _0x43de68=_0x20e922;return _0x1356c6[_0x43de68(0x101)][_0x43de68(0x1d5)];},'postProcessingSpeed':function(){var _0x8e8e6d=_0x20e922;return _0x1356c6[_0x8e8e6d(0x101)]['postProcessingSpeed'];},'colorTable':function(){var _0x1623f0=_0x20e922;return _0x6a1b68[_0x1623f0(0x19b)][_0x1623f0(0x12e)];},'aspect':function(){var _0x498ecc=_0x20e922;return _0x375cc4['drawingBufferWidth']/_0x375cc4[_0x498ecc(0x196)];},'pixelSize':function(){var _0x1579b4=_0x20e922;return _0x15628c[_0x1579b4(0x107)];},'lineWidth':function(){var _0x7b553a=_0x20e922;return _0x12b33a[_0x7b553a(0xc0)];},'particleHeight':function(){var _0xf9917e=_0x20e922;return _0x12b33a[_0xf9917e(0x168)];}},'vertexShaderSource':new _0x5ac2b1[(_0x20e922(0x19d))]({'sources':[_0x51fec7['a']]}),'fragmentShaderSource':new _0x5ac2b1[(_0x20e922(0x19d))]({'sources':[_0x3b23fa['a']]}),'rawRenderState':_0x286967[_0x20e922(0x208)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x20e922(0x152)][_0x20e922(0x121)],'autoClear':!0x0}),'trails':new _0x2f774f({'commandType':_0x20e922(0xd5),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x286967['getFullscreenQuad'](),'primitiveType':_0x5ac2b1[_0x20e922(0x1bc)]['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){var _0x38587f=_0x20e922;return _0x6a1b68[_0x38587f(0x19b)][_0x38587f(0x118)];},'segmentsDepthTexture':function(){var _0x401a1b=_0x20e922;return _0x6a1b68[_0x401a1b(0x19b)][_0x401a1b(0xf8)];},'currentTrailsColor':function(){var _0x35df86=_0x20e922;return _0x6a1b68[_0x35df86(0x152)][_0x35df86(0xea)][_0x35df86(0x19c)](0x0);},'trailsDepthTexture':function(){var _0x2324f9=_0x20e922;return _0x6a1b68[_0x2324f9(0x152)][_0x2324f9(0xea)]['depthTexture'];},'fadeOpacity':function(){var _0x9ffb4c=_0x20e922;return _0x12b33a[_0x9ffb4c(0x199)];}},'vertexShaderSource':new _0x5ac2b1[(_0x20e922(0x19d))]({'defines':[_0x20e922(0xdc)],'sources':[_0x2578c0['a']]}),'fragmentShaderSource':new _0x5ac2b1['ShaderSource']({'defines':[_0x20e922(0x1c3)],'sources':[_0x28fc3f['a']]}),'rawRenderState':_0x286967[_0x20e922(0x208)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x5ac2b1[_0x20e922(0x1cf)][_0x20e922(0x1fd)]},'depthMask':!0x0}),'framebuffer':this[_0x20e922(0x152)][_0x20e922(0x22a)],'autoClear':!0x0,'preExecute':function(){var _0xd9ddfa=_0x20e922,_0x1838f3;_0x1838f3=_0x6a1b68[_0xd9ddfa(0x152)]['currentTrails'],_0x6a1b68['framebuffers'][_0xd9ddfa(0xea)]=_0x6a1b68[_0xd9ddfa(0x152)]['nextTrails'],_0x6a1b68['framebuffers']['nextTrails']=_0x1838f3,_0x6a1b68[_0xd9ddfa(0xe0)][_0xd9ddfa(0x212)][_0xd9ddfa(0x20e)][_0xd9ddfa(0x200)]=_0x6a1b68[_0xd9ddfa(0x152)][_0xd9ddfa(0x22a)],_0x6a1b68[_0xd9ddfa(0xe0)][_0xd9ddfa(0x212)][_0xd9ddfa(0xef)][_0xd9ddfa(0x200)]=_0x6a1b68[_0xd9ddfa(0x152)]['nextTrails'];}}),'screen':new _0x2f774f({'commandType':_0x20e922(0xd5),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x286967[_0x20e922(0xe1)](),'primitiveType':_0x5ac2b1[_0x20e922(0x1bc)][_0x20e922(0x20b)],'uniformMap':{'trailsColorTexture':function(){var _0x253a02=_0x20e922;return _0x6a1b68['framebuffers']['nextTrails'][_0x253a02(0x19c)](0x0);},'trailsDepthTexture':function(){var _0x525c42=_0x20e922;return _0x6a1b68[_0x525c42(0x152)][_0x525c42(0x22a)][_0x525c42(0xb6)];}},'vertexShaderSource':new _0x5ac2b1[(_0x20e922(0x19d))]({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[_0x2578c0['a']]}),'fragmentShaderSource':new _0x5ac2b1[(_0x20e922(0x19d))]({'defines':[_0x20e922(0x1c3)],'sources':[_0x441221['a']]}),'rawRenderState':_0x286967[_0x20e922(0x208)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x2c6937;}()),_0x44266a=_0x5e3ba2(0xc),_0xac52f5=_0x5e3ba2['n'](_0x44266a),_0x4a3103=_0x5e3ba2(0xd),_0x18b2f6=_0x5e3ba2['n'](_0x4a3103),_0xefe838=_0x5e3ba2(0xe),_0x1e2b76=_0x5e3ba2['n'](_0xefe838),_0x4cadaf=_0x5e3ba2(0xf),_0x506fde=_0x5e3ba2['n'](_0x4cadaf),_0x44ad1a=_0x5e3ba2(0x10),_0x5260fd=_0x5e3ba2['n'](_0x44ad1a),_0x4eb9cd=(function(){var _0x35f777=_0xe8cec3;function _0x164ec8(_0x30d097,_0x2f0e18,_0x5b1f4a,_0x1f0246){var _0x36802a=a0_0x2834;_0x230e53()(this,_0x164ec8),this['data']=_0x2f0e18,this[_0x36802a(0x1ca)](_0x30d097,_0x2f0e18),this['createParticlesTextures'](_0x30d097,_0x5b1f4a,_0x1f0246),this['createComputingPrimitives'](_0x2f0e18,_0x5b1f4a,_0x1f0246);}return _0x5e5c8a()(_0x164ec8,[{'key':_0x35f777(0x1ca),'value':function(_0x45bd2b,_0x5a70a3){var _0x1ec7b7=_0x35f777,_0x4258c0={'context':_0x45bd2b,'width':_0x5a70a3[_0x1ec7b7(0x20d)][_0x1ec7b7(0x1fa)],'height':_0x5a70a3[_0x1ec7b7(0x20d)][_0x1ec7b7(0x11a)]*_0x5a70a3[_0x1ec7b7(0x20d)][_0x1ec7b7(0x10c)],'pixelFormat':_0x5ac2b1['PixelFormat'][_0x1ec7b7(0x17b)],'pixelDatatype':_0x5ac2b1[_0x1ec7b7(0x15b)][_0x1ec7b7(0x1b5)],'flipY':!0x1,'sampler':new _0x5ac2b1[(_0x1ec7b7(0x17d))]({'minificationFilter':_0x5ac2b1[_0x1ec7b7(0x176)][_0x1ec7b7(0xc6)],'magnificationFilter':_0x5ac2b1[_0x1ec7b7(0x167)]['NEAREST']})};this[_0x1ec7b7(0x1ef)]={'U':_0x286967[_0x1ec7b7(0x1f8)](_0x4258c0,_0x5a70a3['U'][_0x1ec7b7(0x1b4)]),'V':_0x286967[_0x1ec7b7(0x1f8)](_0x4258c0,_0x5a70a3['V']['array'])};}},{'key':_0x35f777(0x1a5),'value':function(_0x4ddc22,_0xe24cdf,_0x4c6132){var _0x295fa4=_0x35f777,_0xea816d={'context':_0x4ddc22,'width':_0xe24cdf[_0x295fa4(0x20a)],'height':_0xe24cdf[_0x295fa4(0x20a)],'pixelFormat':_0x5ac2b1[_0x295fa4(0x18e)]['RGBA'],'pixelDatatype':_0x5ac2b1[_0x295fa4(0x15b)][_0x295fa4(0x1b5)],'flipY':!0x1,'sampler':new _0x5ac2b1['Sampler']({'minificationFilter':_0x5ac2b1[_0x295fa4(0x176)]['NEAREST'],'magnificationFilter':_0x5ac2b1[_0x295fa4(0x167)][_0x295fa4(0xc6)]})},_0x5d9311=this[_0x295fa4(0x16b)](_0xe24cdf[_0x295fa4(0x224)],_0x4c6132),_0x57ebaa=new Float32Array(0x4*_0xe24cdf[_0x295fa4(0x224)])[_0x295fa4(0x206)](0x0);this[_0x295fa4(0x101)]={'particlesWind':_0x286967['createTexture'](_0xea816d),'currentParticlesPosition':_0x286967['createTexture'](_0xea816d,_0x5d9311),'nextParticlesPosition':_0x286967[_0x295fa4(0x1f8)](_0xea816d,_0x5d9311),'currentParticlesSpeed':_0x286967[_0x295fa4(0x1f8)](_0xea816d,_0x57ebaa),'nextParticlesSpeed':_0x286967[_0x295fa4(0x1f8)](_0xea816d,_0x57ebaa),'postProcessingPosition':_0x286967[_0x295fa4(0x1f8)](_0xea816d,_0x5d9311),'postProcessingSpeed':_0x286967['createTexture'](_0xea816d,_0x57ebaa)};}},{'key':_0x35f777(0x16b),'value':function(_0x1a152d,_0x32566b){var _0xfea014=_0x35f777;for(var _0x52ab80=new Float32Array(0x4*_0x1a152d),_0xa97d34=0x0;_0xa97d34<_0x1a152d;_0xa97d34++)_0x52ab80[0x4*_0xa97d34]=_0x5ac2b1[_0xfea014(0xcb)][_0xfea014(0x143)](_0x32566b[_0xfea014(0x179)]['x'],_0x32566b[_0xfea014(0x179)]['y']),_0x52ab80[0x4*_0xa97d34+0x1]=_0x5ac2b1[_0xfea014(0xcb)]['randomBetween'](_0x32566b['latRange']['x'],_0x32566b['latRange']['y']),_0x52ab80[0x4*_0xa97d34+0x2]=_0x5ac2b1[_0xfea014(0xcb)][_0xfea014(0x143)](this[_0xfea014(0x1ba)]['lev']['min'],this[_0xfea014(0x1ba)]['lev'][_0xfea014(0x1e2)]),_0x52ab80[0x4*_0xa97d34+0x3]=0x0;return _0x52ab80;}},{'key':_0x35f777(0x15d),'value':function(){var _0x16e27b=_0x35f777,_0x233bd8=this;Object['keys'](this[_0x16e27b(0x101)])['forEach'](function(_0x56c710){var _0x422d6c=_0x16e27b;_0x233bd8['particlesTextures'][_0x56c710][_0x422d6c(0xd4)]();});}},{'key':'createComputingPrimitives','value':function(_0x282d96,_0x26752e,_0x896b2d){var _0x18f449=_0x35f777,_0x530a12=new _0x5ac2b1['Cartesian3'](_0x282d96[_0x18f449(0x20d)]['lon'],_0x282d96[_0x18f449(0x20d)][_0x18f449(0x11a)],_0x282d96['dimensions'][_0x18f449(0x10c)]),_0x7a11d4=new _0x5ac2b1['Cartesian3'](_0x282d96[_0x18f449(0x1fa)][_0x18f449(0x22b)],_0x282d96['lat'][_0x18f449(0x22b)],_0x282d96[_0x18f449(0x10c)]['min']),_0x259e5e=new _0x5ac2b1[(_0x18f449(0x1b3))](_0x282d96[_0x18f449(0x1fa)][_0x18f449(0x1e2)],_0x282d96[_0x18f449(0x11a)][_0x18f449(0x1e2)],_0x282d96[_0x18f449(0x10c)][_0x18f449(0x1e2)]),_0x5d9f85=new _0x5ac2b1[(_0x18f449(0x1b3))]((_0x259e5e['x']-_0x7a11d4['x'])/(_0x530a12['x']-0x1),(_0x259e5e['y']-_0x7a11d4['y'])/(_0x530a12['y']-0x1),_0x530a12['z']>0x1?(_0x259e5e['z']-_0x7a11d4['z'])/(_0x530a12['z']-0x1):0x1),_0x115f49=new _0x5ac2b1[(_0x18f449(0x130))](_0x282d96['U'][_0x18f449(0x22b)],_0x282d96['U'][_0x18f449(0x1e2)]),_0x46eb77=new _0x5ac2b1['Cartesian2'](_0x282d96['V'][_0x18f449(0x22b)],_0x282d96['V']['max']),_0x367fe9=this;this[_0x18f449(0xe0)]={'getWind':new _0x2f774f({'commandType':_0x18f449(0x142),'uniformMap':{'U':function(){return _0x367fe9['windTextures']['U'];},'V':function(){var _0x398706=_0x18f449;return _0x367fe9[_0x398706(0x1ef)]['V'];},'currentParticlesPosition':function(){var _0x1f80c9=_0x18f449;return _0x367fe9[_0x1f80c9(0x101)][_0x1f80c9(0x197)];},'dimension':function(){return _0x530a12;},'minimum':function(){return _0x7a11d4;},'maximum':function(){return _0x259e5e;},'interval':function(){return _0x5d9f85;}},'fragmentShaderSource':new _0x5ac2b1[(_0x18f449(0x19d))]({'sources':[_0xac52f5['a']]}),'outputTexture':this[_0x18f449(0x101)][_0x18f449(0x184)],'preExecute':function(){var _0x3eaab5=_0x18f449;_0x367fe9[_0x3eaab5(0xe0)][_0x3eaab5(0x13d)][_0x3eaab5(0x20e)][_0x3eaab5(0xd1)]=_0x367fe9['particlesTextures'][_0x3eaab5(0x184)];}}),'updateSpeed':new _0x2f774f({'commandType':_0x18f449(0x142),'uniformMap':{'currentParticlesSpeed':function(){var _0xdae2ef=_0x18f449;return _0x367fe9[_0xdae2ef(0x101)][_0xdae2ef(0xe4)];},'particlesWind':function(){var _0x462f5f=_0x18f449;return _0x367fe9[_0x462f5f(0x101)][_0x462f5f(0x184)];},'uSpeedRange':function(){return _0x115f49;},'vSpeedRange':function(){return _0x46eb77;},'pixelSize':function(){var _0x18a89c=_0x18f449;return _0x896b2d[_0x18a89c(0x107)];},'speedFactor':function(){var _0x12381e=_0x18f449;return _0x26752e[_0x12381e(0xae)];}},'fragmentShaderSource':new _0x5ac2b1['ShaderSource']({'sources':[_0x18b2f6['a']]}),'outputTexture':this[_0x18f449(0x101)][_0x18f449(0xf6)],'preExecute':function(){var _0x2ecd4b=_0x18f449,_0x47c638;_0x47c638=_0x367fe9[_0x2ecd4b(0x101)][_0x2ecd4b(0xe4)],_0x367fe9[_0x2ecd4b(0x101)]['currentParticlesSpeed']=_0x367fe9[_0x2ecd4b(0x101)][_0x2ecd4b(0x181)],_0x367fe9[_0x2ecd4b(0x101)]['postProcessingSpeed']=_0x47c638,_0x367fe9['primitives'][_0x2ecd4b(0x1a4)][_0x2ecd4b(0x20e)]['outputTexture']=_0x367fe9[_0x2ecd4b(0x101)][_0x2ecd4b(0xf6)];}}),'updatePosition':new _0x2f774f({'commandType':_0x18f449(0x142),'uniformMap':{'currentParticlesPosition':function(){return _0x367fe9['particlesTextures']['currentParticlesPosition'];},'currentParticlesSpeed':function(){var _0x39978a=_0x18f449;return _0x367fe9[_0x39978a(0x101)][_0x39978a(0xe4)];}},'fragmentShaderSource':new _0x5ac2b1[(_0x18f449(0x19d))]({'sources':[_0x1e2b76['a']]}),'outputTexture':this['particlesTextures'][_0x18f449(0x219)],'preExecute':function(){var _0x7b958d=_0x18f449,_0x459b4c;_0x459b4c=_0x367fe9['particlesTextures'][_0x7b958d(0x197)],_0x367fe9[_0x7b958d(0x101)]['currentParticlesPosition']=_0x367fe9[_0x7b958d(0x101)][_0x7b958d(0x1d5)],_0x367fe9['particlesTextures'][_0x7b958d(0x1d5)]=_0x459b4c,_0x367fe9['primitives'][_0x7b958d(0xb5)][_0x7b958d(0x20e)]['outputTexture']=_0x367fe9['particlesTextures'][_0x7b958d(0x219)];}}),'postProcessingPosition':new _0x2f774f({'commandType':_0x18f449(0x142),'uniformMap':{'nextParticlesPosition':function(){var _0xc345c9=_0x18f449;return _0x367fe9['particlesTextures'][_0xc345c9(0x219)];},'nextParticlesSpeed':function(){var _0x1f44ab=_0x18f449;return _0x367fe9[_0x1f44ab(0x101)][_0x1f44ab(0xf6)];},'lonRange':function(){var _0x3843b8=_0x18f449;return _0x896b2d[_0x3843b8(0x179)];},'latRange':function(){var _0x330724=_0x18f449;return _0x896b2d[_0x330724(0x1d6)];},'randomCoefficient':function(){var _0x23ba9f=_0x18f449,_0x33d482=Math[_0x23ba9f(0x136)]();return _0x33d482;},'dropRate':function(){var _0x1f67be=_0x18f449;return _0x26752e[_0x1f67be(0x14d)];},'dropRateBump':function(){var _0x32e612=_0x18f449;return _0x26752e[_0x32e612(0x1de)];}},'fragmentShaderSource':new _0x5ac2b1[(_0x18f449(0x19d))]({'sources':[_0x506fde['a']]}),'outputTexture':this[_0x18f449(0x101)][_0x18f449(0x1d5)],'preExecute':function(){var _0x1f300b=_0x18f449;_0x367fe9['primitives']['postProcessingPosition']['commandToExecute'][_0x1f300b(0xd1)]=_0x367fe9['particlesTextures']['postProcessingPosition'];}}),'postProcessingSpeed':new _0x2f774f({'commandType':_0x18f449(0x142),'uniformMap':{'postProcessingPosition':function(){return _0x367fe9['particlesTextures']['postProcessingPosition'];},'nextParticlesSpeed':function(){var _0x423032=_0x18f449;return _0x367fe9[_0x423032(0x101)][_0x423032(0xf6)];}},'fragmentShaderSource':new _0x5ac2b1['ShaderSource']({'sources':[_0x5260fd['a']]}),'outputTexture':this[_0x18f449(0x101)][_0x18f449(0x181)],'preExecute':function(){var _0x526f68=_0x18f449;_0x367fe9[_0x526f68(0xe0)][_0x526f68(0x181)][_0x526f68(0x20e)][_0x526f68(0xd1)]=_0x367fe9[_0x526f68(0x101)][_0x526f68(0x181)];}})};}}]),_0x164ec8;}()),_0x27d0f7=(function(){var _0x5a1460=_0xe8cec3;function _0x1ec60d(_0x2bf9ec,_0x45fb42,_0x3dad14,_0x593cbf){var _0x1a1417=a0_0x2834;_0x230e53()(this,_0x1ec60d),this[_0x1a1417(0xf9)]=_0x2bf9ec,this[_0x1a1417(0x1ba)]=_0x45fb42,this[_0x1a1417(0xbb)]=_0x3dad14,this['viewerParameters']=_0x593cbf,this['particlesComputing']=new _0x4eb9cd(this['context'],this[_0x1a1417(0x1ba)],this[_0x1a1417(0xbb)],this[_0x1a1417(0x220)]),this[_0x1a1417(0xbf)]=new _0x29fca4(this['context'],this[_0x1a1417(0x1ba)],this[_0x1a1417(0xbb)],this[_0x1a1417(0x220)],this[_0x1a1417(0xb1)]);}return _0x5e5c8a()(_0x1ec60d,[{'key':_0x5a1460(0x193),'value':function(_0x3e2f5d){var _0x5e09ba=_0x5a1460,_0xdc3cfb=this;this[_0x5e09ba(0xb1)][_0x5e09ba(0x15d)](),Object['keys'](this['particlesComputing'][_0x5e09ba(0x1ef)])[_0x5e09ba(0x1a1)](function(_0x56623e){var _0x4201f2=_0x5e09ba;_0xdc3cfb[_0x4201f2(0xb1)][_0x4201f2(0x1ef)][_0x56623e][_0x4201f2(0xd4)]();}),this[_0x5e09ba(0xbf)][_0x5e09ba(0x19b)][_0x5e09ba(0x12e)][_0x5e09ba(0xd4)](),Object[_0x5e09ba(0x178)](this['particlesRendering'][_0x5e09ba(0x152)])['forEach'](function(_0x5d16e9){var _0x3e9186=_0x5e09ba;_0xdc3cfb[_0x3e9186(0xbf)]['framebuffers'][_0x5d16e9][_0x3e9186(0xd4)]();}),this[_0x5e09ba(0xf9)]=_0x3e2f5d,this[_0x5e09ba(0xb1)]=new _0x4eb9cd(this[_0x5e09ba(0xf9)],this[_0x5e09ba(0x1ba)],this[_0x5e09ba(0xbb)],this['viewerParameters']),this[_0x5e09ba(0xbf)]=new _0x29fca4(this['context'],this['data'],this[_0x5e09ba(0xbb)],this['viewerParameters'],this['particlesComputing']);}},{'key':_0x5a1460(0x12f),'value':function(){var _0x2674a8=_0x5a1460,_0x1df377=this,_0x2f678c=new _0x5ac2b1[(_0x2674a8(0x1cc))]({'color':new _0x5ac2b1[(_0x2674a8(0x1bf))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x5ac2b1[_0x2674a8(0x16a)][_0x2674a8(0xc9)]});Object[_0x2674a8(0x178)](this[_0x2674a8(0xbf)][_0x2674a8(0x152)])['forEach'](function(_0x5c7645){var _0xe6dd04=_0x2674a8;_0x2f678c[_0xe6dd04(0x200)]=_0x1df377[_0xe6dd04(0xbf)]['framebuffers'][_0x5c7645],_0x2f678c[_0xe6dd04(0x223)](_0x1df377[_0xe6dd04(0xf9)]);});}},{'key':_0x5a1460(0x112),'value':function(_0xc241c){var _0x317f21=_0x5a1460;if(this['clearFramebuffers'](),this[_0x317f21(0xb1)][_0x317f21(0x15d)](),this[_0x317f21(0xb1)][_0x317f21(0x1a5)](this[_0x317f21(0xf9)],this['userInput'],this[_0x317f21(0x220)]),_0xc241c){var _0x33fd99=this[_0x317f21(0xbf)]['createSegmentsGeometry'](this[_0x317f21(0xbb)]);this[_0x317f21(0xbf)]['primitives']['segments']['geometry']=_0x33fd99;var _0x215d37=_0x5ac2b1[_0x317f21(0x216)]['fromGeometry']({'context':this[_0x317f21(0xf9)],'geometry':_0x33fd99,'attributeLocations':this['particlesRendering'][_0x317f21(0xe0)][_0x317f21(0x121)][_0x317f21(0x111)],'bufferUsage':_0x5ac2b1[_0x317f21(0xe5)][_0x317f21(0x13c)]});this['particlesRendering'][_0x317f21(0xe0)][_0x317f21(0x121)][_0x317f21(0x20e)]['vertexArray']=_0x215d37;}}},{'key':'applyUserInput','value':function(_0x414f6b){var _0xa7388=_0x5a1460,_0x248c0b=this,_0x48afcb=!0x1;this[_0xa7388(0xbb)][_0xa7388(0x224)]!=_0x414f6b[_0xa7388(0x224)]&&(_0x48afcb=!0x0),Object[_0xa7388(0x178)](_0x414f6b)[_0xa7388(0x1a1)](function(_0x6a55d3){_0x248c0b['userInput'][_0x6a55d3]=_0x414f6b[_0x6a55d3];}),this[_0xa7388(0x112)](_0x48afcb);}},{'key':'applyViewerParameters','value':function(_0x5a68e6){var _0x1035d0=_0x5a1460,_0x1a56ec=this;Object[_0x1035d0(0x178)](_0x5a68e6)[_0x1035d0(0x1a1)](function(_0x521cb8){var _0x153692=_0x1035d0;_0x1a56ec[_0x153692(0x220)][_0x521cb8]=_0x5a68e6[_0x521cb8];}),this['refreshParticles'](!0x1);}}]),_0x1ec60d;}());function _0x3bc898(_0x12b844){var _0x5e04ac=(function(){var _0x5d32e7=a0_0x2834;if('undefined'==typeof Reflect||!Reflect[_0x5d32e7(0x1ea)])return!0x1;if(Reflect[_0x5d32e7(0x1ea)][_0x5d32e7(0x1ee)])return!0x1;if(_0x5d32e7(0x113)==typeof Proxy)return!0x0;try{return Boolean['prototype'][_0x5d32e7(0x183)][_0x5d32e7(0x1b2)](Reflect[_0x5d32e7(0x1ea)](Boolean,[],function(){})),!0x0;}catch(_0x524c35){return!0x1;}}());return function(){var _0x57e636=a0_0x2834,_0x1fd54e,_0x5091e1=_0x2209e2()(_0x12b844);if(_0x5e04ac){var _0x34824e=_0x2209e2()(this)[_0x57e636(0xec)];_0x1fd54e=Reflect[_0x57e636(0x1ea)](_0x5091e1,arguments,_0x34824e);}else _0x1fd54e=_0x5091e1['apply'](this,arguments);return _0x27b80c()(this,_0x1fd54e);};}var _0x13d59e=_0x157332[_0xe8cec3(0x1c0)][_0xe8cec3(0x1d4)],_0x1dc5fa=0x1000,_0x342047=0x64,_0x1b5e2c=0.996,_0x283d14=0.003,_0x5e3d57=0.01,_0x564bf8=0.5,_0x3be77b=0x2,_0x235d4c=function(_0x427418){var _0x41e5ce=_0xe8cec3;_0x496f9c()(_0x19998d,_0x427418);var _0x111f74=_0x3bc898(_0x19998d);function _0x19998d(){var _0x30f26c=a0_0x2834,_0xc21a07,_0x1db58e=arguments[_0x30f26c(0xba)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x230e53()(this,_0x19998d),(_0xc21a07=_0x111f74[_0x30f26c(0x1b2)](this,_0x1db58e))[_0x30f26c(0x224)]=_0x1dc5fa,_0xc21a07[_0x30f26c(0x168)]=_0x342047,_0xc21a07[_0x30f26c(0x199)]=_0x1b5e2c,_0xc21a07[_0x30f26c(0x14d)]=_0x283d14,_0xc21a07[_0x30f26c(0x1de)]=_0x5e3d57,_0xc21a07['speedFactor']=_0x564bf8,_0xc21a07['lineWidth']=_0x3be77b,_0xc21a07[_0x30f26c(0x1c4)](_0x1db58e),_0xc21a07;}return _0x5e5c8a()(_0x19998d,[{'key':_0x41e5ce(0x1c0),'get':function(){var _0x4ffa06=_0x41e5ce;return this[_0x4ffa06(0xe0)];}},{'key':_0x41e5ce(0x1c4),'value':function(_0x40d929){if(_0x40d929){for(var _0x3ac07e in _0x40d929)this[_0x3ac07e]=_0x40d929[_0x3ac07e];}}},{'key':_0x41e5ce(0x120),'value':function(){}},{'key':_0x41e5ce(0x141),'value':function(){var _0x57a4d3=_0x41e5ce;this[_0x57a4d3(0xc1)]=this['_map']['scene'],this['camera']=this[_0x57a4d3(0x150)][_0x57a4d3(0x182)],this[_0x57a4d3(0xe0)]=new _0x5ac2b1[(_0x57a4d3(0x129))](),this[_0x57a4d3(0x150)][_0x57a4d3(0xc1)][_0x57a4d3(0xe0)][_0x57a4d3(0x114)](this['primitives']),this[_0x57a4d3(0x220)]={'lonRange':new _0x5ac2b1[(_0x57a4d3(0x130))](),'latRange':new _0x5ac2b1[(_0x57a4d3(0x130))](),'pixelSize':0x0},this[_0x57a4d3(0xe8)]=new _0x5ac2b1[(_0x57a4d3(0x1f5))](_0x5ac2b1[_0x57a4d3(0x1b3)][_0x57a4d3(0x203)],6314355.63),this['updateViewerParameters'](),window[_0x57a4d3(0x1c2)](_0x57a4d3(0x1e5),this[_0x57a4d3(0x1e5)][_0x57a4d3(0x132)](this),!0x1),this[_0x57a4d3(0x21e)]=!0x1,this[_0x57a4d3(0x131)]=!0x1,this[_0x57a4d3(0x150)]['on'](_0x157332[_0x57a4d3(0xcf)][_0x57a4d3(0x119)],this[_0x57a4d3(0x1ed)],this),this[_0x57a4d3(0x150)]['on'](_0x157332['EventType'][_0x57a4d3(0xf0)],this[_0x57a4d3(0x11e)],this),this[_0x57a4d3(0x150)]['on'](_0x157332[_0x57a4d3(0xcf)][_0x57a4d3(0x124)],this['_onMouseUpEvent'],this),this[_0x57a4d3(0x150)]['on'](_0x157332['EventType'][_0x57a4d3(0x16f)],this['_onMouseMoveEvent'],this);}},{'key':_0x41e5ce(0x1c9),'value':function(){var _0x4bbed7=_0x41e5ce;window[_0x4bbed7(0x160)](_0x4bbed7(0x1e5),this['resize']),this[_0x4bbed7(0x150)][_0x4bbed7(0xf1)](_0x157332[_0x4bbed7(0xcf)][_0x4bbed7(0x175)],this[_0x4bbed7(0x1cb)],this),this[_0x4bbed7(0x150)]['off'](_0x157332[_0x4bbed7(0xcf)][_0x4bbed7(0x119)],this[_0x4bbed7(0x1ed)],this),this['_map'][_0x4bbed7(0xf1)](_0x157332[_0x4bbed7(0xcf)]['mouseDown'],this['_onMouseDownEvent'],this),this['_map'][_0x4bbed7(0xf1)](_0x157332[_0x4bbed7(0xcf)][_0x4bbed7(0x124)],this['_onMouseUpEvent'],this),this[_0x4bbed7(0x150)][_0x4bbed7(0xf1)](_0x157332[_0x4bbed7(0xcf)][_0x4bbed7(0x16f)],this['_onMouseMoveEvent'],this),this[_0x4bbed7(0xe0)][_0x4bbed7(0xe3)](),this['_map']['scene'][_0x4bbed7(0xe0)][_0x4bbed7(0x151)](this[_0x4bbed7(0xe0)]);}},{'key':'resize','value':function(){var _0x4d3727=_0x41e5ce;this[_0x4d3727(0x161)]&&this[_0x4d3727(0x1c8)]&&(this[_0x4d3727(0xe0)][_0x4d3727(0x161)]=!0x1,this['primitives'][_0x4d3727(0xe3)](),this[_0x4d3727(0x150)]['once'](_0x157332[_0x4d3727(0xcf)]['preRender'],this[_0x4d3727(0x1cb)],this));}},{'key':_0x41e5ce(0x1cb),'value':function(_0x19fec6){var _0x19e46f=_0x41e5ce;this[_0x19e46f(0x1c8)][_0x19e46f(0x193)](this[_0x19e46f(0xc1)]['context']),this[_0x19e46f(0xfd)](),this[_0x19e46f(0xe0)][_0x19e46f(0x161)]=!0x0;}},{'key':_0x41e5ce(0x1ed),'value':function(_0x59333a){var _0x28fb34=_0x41e5ce,_0x32179d=this;clearTimeout(this[_0x28fb34(0x171)]),this[_0x28fb34(0x161)]&&this[_0x28fb34(0x1c8)]&&(this[_0x28fb34(0xe0)]['show']=!0x1,this[_0x28fb34(0x171)]=setTimeout(function(){_0x32179d['show']&&_0x32179d['redraw']();},0xc8));}},{'key':_0x41e5ce(0x11e),'value':function(_0x18fa08){var _0x449f77=_0x41e5ce;this[_0x449f77(0x21e)]=!0x0;}},{'key':'_onMouseMoveEvent','value':function(_0x13b6d2){var _0x59cda8=_0x41e5ce;this[_0x59cda8(0x161)]&&this[_0x59cda8(0x1c8)]&&this['mouse_down']&&(this['primitives']['show']=!0x1,this[_0x59cda8(0x131)]=!0x0);}},{'key':_0x41e5ce(0x10e),'value':function(_0x2453ff){var _0x1ef567=_0x41e5ce;this['show']&&this[_0x1ef567(0x1c8)]&&(this[_0x1ef567(0x21e)]&&this[_0x1ef567(0x131)]&&this['redraw'](),this[_0x1ef567(0xe0)][_0x1ef567(0x161)]=!0x0,this[_0x1ef567(0x21e)]=!0x1,this[_0x1ef567(0x131)]=!0x1);}},{'key':'redraw','value':function(){var _0x306ca8=_0x41e5ce;this[_0x306ca8(0x150)]&&this[_0x306ca8(0x161)]&&(this[_0x306ca8(0x1db)](),this[_0x306ca8(0x1c8)][_0x306ca8(0x1d0)](this['viewerParameters']),this[_0x306ca8(0xe0)][_0x306ca8(0x161)]=!0x0);}},{'key':_0x41e5ce(0xca),'value':function(_0x117139){var _0x1717fc=_0x41e5ce;this[_0x1717fc(0x1c8)]=new _0x27d0f7(this[_0x1717fc(0xc1)]['context'],_0x117139,this['getUserInput'](),this['viewerParameters']),this[_0x1717fc(0xfd)]();}},{'key':_0x41e5ce(0x1b8),'value':function(_0x5648d7){var _0x22444b=_0x41e5ce;if(_0x5648d7){for(var _0x512e0e in _0x5648d7)this[_0x512e0e]=_0x5648d7[_0x512e0e];}return this[_0x22444b(0x1c8)]&&this[_0x22444b(0x1c8)]['applyUserInput'](this[_0x22444b(0x18a)]()),this;}},{'key':_0x41e5ce(0x18a),'value':function(){var _0x4751b6=_0x41e5ce,_0x8e3dec=Math[_0x4751b6(0x10b)](Math[_0x4751b6(0x210)](this[_0x4751b6(0x224)]));return this['maxParticles']=_0x8e3dec*_0x8e3dec,{'particlesTextureSize':_0x8e3dec,'maxParticles':this[_0x4751b6(0x224)],'particleHeight':this[_0x4751b6(0x168)],'fadeOpacity':this['fadeOpacity'],'dropRate':this[_0x4751b6(0x14d)],'dropRateBump':this[_0x4751b6(0x1de)],'speedFactor':this[_0x4751b6(0xae)],'lineWidth':this['lineWidth'],'globeLayer':this['globeLayer'],'WMS_URL':this['WMS_URL']};}},{'key':'addPrimitives','value':function(){var _0x43c9f6=_0x41e5ce;this[_0x43c9f6(0xe0)][_0x43c9f6(0x114)](this[_0x43c9f6(0x1c8)][_0x43c9f6(0xb1)]['primitives'][_0x43c9f6(0x13d)]),this['primitives']['add'](this[_0x43c9f6(0x1c8)][_0x43c9f6(0xb1)]['primitives'][_0x43c9f6(0x1a4)]),this[_0x43c9f6(0xe0)]['add'](this[_0x43c9f6(0x1c8)][_0x43c9f6(0xb1)]['primitives'][_0x43c9f6(0xb5)]),this['primitives'][_0x43c9f6(0x114)](this[_0x43c9f6(0x1c8)][_0x43c9f6(0xb1)]['primitives'][_0x43c9f6(0x1d5)]),this['primitives'][_0x43c9f6(0x114)](this[_0x43c9f6(0x1c8)][_0x43c9f6(0xb1)]['primitives'][_0x43c9f6(0x181)]),this['primitives'][_0x43c9f6(0x114)](this['particleSystem']['particlesRendering'][_0x43c9f6(0xe0)]['segments']),this['primitives'][_0x43c9f6(0x114)](this[_0x43c9f6(0x1c8)]['particlesRendering'][_0x43c9f6(0xe0)][_0x43c9f6(0x212)]),this[_0x43c9f6(0xe0)][_0x43c9f6(0x114)](this[_0x43c9f6(0x1c8)][_0x43c9f6(0xbf)][_0x43c9f6(0xe0)][_0x43c9f6(0x227)]);}},{'key':_0x41e5ce(0x1db),'value':function(){var _0x59340b=_0x41e5ce,_0x378055=this[_0x59340b(0x182)][_0x59340b(0x123)](this[_0x59340b(0xc1)][_0x59340b(0xbd)][_0x59340b(0x1d2)]);if(!_0x378055){var _0x38578e=this[_0x59340b(0x150)]['getExtent']();_0x378055=_0x5ac2b1['Rectangle'][_0x59340b(0x17a)](_0x38578e[_0x59340b(0xd8)],_0x38578e[_0x59340b(0x1ff)],_0x38578e[_0x59340b(0x18c)],_0x38578e[_0x59340b(0x1a6)]);}var _0xea9a46=_0x286967[_0x59340b(0x102)](_0x378055);this[_0x59340b(0x220)]['lonRange']['x']=_0xea9a46[_0x59340b(0x1fa)][_0x59340b(0x22b)],this[_0x59340b(0x220)][_0x59340b(0x179)]['y']=_0xea9a46['lon'][_0x59340b(0x1e2)],this[_0x59340b(0x220)][_0x59340b(0x1d6)]['x']=_0xea9a46[_0x59340b(0x11a)][_0x59340b(0x22b)],this['viewerParameters']['latRange']['y']=_0xea9a46[_0x59340b(0x11a)]['max'];var _0xca95f3=this[_0x59340b(0x182)][_0x59340b(0x14b)](this['globeBoundingSphere'],this[_0x59340b(0xc1)]['drawingBufferWidth'],this[_0x59340b(0xc1)][_0x59340b(0x196)]);_0xca95f3>0x0&&(this[_0x59340b(0x220)]['pixelSize']=_0xca95f3);}}]),_0x19998d;}(_0x13d59e);_0x157332[_0xe8cec3(0x205)][_0xe8cec3(0xb7)](_0xe8cec3(0x165),_0x235d4c),_0x157332[_0xe8cec3(0x1c0)]['WindLayer']=_0x235d4c;var _0x26d583=_0x5e5c8a()(function _0x38695d(){var _0x3ae0b7=_0xe8cec3;_0x230e53()(this,_0x38695d),this[_0x3ae0b7(0x1ad)]=null,this['lat']=null,this[_0x3ae0b7(0x1ae)]=null,this['tlat']=null,this['age']=null;}),_0x58aa78=(function(){var _0x33dbed=_0xe8cec3;function _0x7729c5(_0x517d4b,_0x5e294d){var _0x5611fd=a0_0x2834;_0x230e53()(this,_0x7729c5),this[_0x5611fd(0x214)]=_0x517d4b[_0x5611fd(0x214)],this[_0x5611fd(0x1d9)]=_0x517d4b[_0x5611fd(0x1d9)],this['xmin']=_0x517d4b[_0x5611fd(0xd8)],this[_0x5611fd(0x18c)]=_0x517d4b[_0x5611fd(0x18c)],this[_0x5611fd(0x1ff)]=_0x517d4b[_0x5611fd(0x1ff)],this[_0x5611fd(0x1a6)]=_0x517d4b['ymax'],this[_0x5611fd(0x1bb)]=[];var _0x489a71=_0x517d4b[_0x5611fd(0x18f)],_0x32e402=_0x517d4b[_0x5611fd(0x146)],_0x1f13f7=!0x1;_0x489a71['length']===this[_0x5611fd(0x214)]&&_0x489a71[0x0][_0x5611fd(0xba)]===this[_0x5611fd(0x1d9)]&&(_0x1f13f7=!0x0);for(var _0x2a77a0=0x0,_0x15ef0e=null,_0x2acd0d=null,_0x5d24db=0x0;_0x5d24db<this[_0x5611fd(0x214)];_0x5d24db++){_0x15ef0e=[];for(var _0x24951e=0x0;_0x24951e<this[_0x5611fd(0x1d9)];_0x24951e++,_0x2a77a0++)_0x2acd0d=_0x1f13f7?this[_0x5611fd(0x108)](_0x489a71[_0x5d24db][_0x24951e],_0x32e402[_0x5d24db][_0x24951e]):this[_0x5611fd(0x108)](_0x489a71[_0x2a77a0],_0x32e402[_0x2a77a0]),_0x15ef0e[_0x5611fd(0x11f)](_0x2acd0d);this[_0x5611fd(0x1bb)][_0x5611fd(0x11f)](_0x15ef0e);}_0x5e294d&&this['grid']['reverse']();}return _0x5e5c8a()(_0x7729c5,[{'key':_0x33dbed(0x126),'value':function(_0x536ce6,_0x55d0be){var _0x521603=_0x33dbed;return{'x':(_0x536ce6-this[_0x521603(0xd8)])/(this[_0x521603(0x18c)]-this[_0x521603(0xd8)])*(this[_0x521603(0x1d9)]-0x1),'y':(this['ymax']-_0x55d0be)/(this[_0x521603(0x1a6)]-this['ymin'])*(this['rows']-0x1)};}},{'key':_0x33dbed(0x1fc),'value':function(_0xb1c528,_0x352264){var _0x3697ed=_0x33dbed;if(_0xb1c528<0x0||_0xb1c528>=this[_0x3697ed(0x1d9)]||_0x352264>=this[_0x3697ed(0x214)])return[0x0,0x0,0x0];var _0x4bcfdd,_0x128db0,_0x11c2f0=Math[_0x3697ed(0x1f6)](_0xb1c528),_0xd9ed8f=Math[_0x3697ed(0x1f6)](_0x352264);if(_0x11c2f0===_0xb1c528&&_0xd9ed8f===_0x352264)return this[_0x3697ed(0x1bb)][_0x352264][_0xb1c528];_0x4bcfdd=_0x11c2f0+0x1,_0x128db0=_0xd9ed8f+0x1;var _0xfcc08f=this['getUVByXY'](_0x11c2f0,_0xd9ed8f),_0x7dcd98=this[_0x3697ed(0x1fc)](_0x4bcfdd,_0xd9ed8f),_0x288ae5=this[_0x3697ed(0x1fc)](_0x11c2f0,_0x128db0),_0x3aa6f7=this[_0x3697ed(0x1fc)](_0x4bcfdd,_0x128db0),_0x4eded8=null;try{_0x4eded8=this['_bilinearInterpolation'](_0xb1c528-_0x11c2f0,_0x352264-_0xd9ed8f,_0xfcc08f,_0x7dcd98,_0x288ae5,_0x3aa6f7);}catch(_0x223aca){console[_0x3697ed(0x1b9)](_0xb1c528,_0x352264);}return _0x4eded8;}},{'key':_0x33dbed(0x185),'value':function(_0x2a5e0e,_0x5e36dc,_0x15f113,_0x4bdb40,_0x53db72,_0x1b5923){var _0x15aedb=0x1-_0x2a5e0e,_0x3a89d3=0x1-_0x5e36dc,_0x3c3ead=_0x15aedb*_0x3a89d3,_0x18a93c=_0x2a5e0e*_0x3a89d3,_0x2f08c7=_0x15aedb*_0x5e36dc,_0x452687=_0x2a5e0e*_0x5e36dc,_0x4202ba=_0x15f113[0x0]*_0x3c3ead+_0x4bdb40[0x0]*_0x18a93c+_0x53db72[0x0]*_0x2f08c7+_0x1b5923[0x0]*_0x452687,_0x9eb419=_0x15f113[0x1]*_0x3c3ead+_0x4bdb40[0x1]*_0x18a93c+_0x53db72[0x1]*_0x2f08c7+_0x1b5923[0x1]*_0x452687;return this['_calcUV'](_0x4202ba,_0x9eb419);}},{'key':_0x33dbed(0x108),'value':function(_0x11655e,_0xb3ebc){var _0x58e0a3=_0x33dbed;return[+_0x11655e,+_0xb3ebc,Math[_0x58e0a3(0x210)](_0x11655e*_0x11655e+_0xb3ebc*_0xb3ebc)];}},{'key':'getUVByPoint','value':function(_0xaaf56b,_0x49a7f7){var _0x2f8def=_0x33dbed;if(!this['isInExtent'](_0xaaf56b,_0x49a7f7))return null;var _0x2bdef2=this[_0x2f8def(0x126)](_0xaaf56b,_0x49a7f7);return this[_0x2f8def(0x1fc)](_0x2bdef2['x'],_0x2bdef2['y']);}},{'key':_0x33dbed(0x159),'value':function(_0x59e156,_0x4e0f5e){var _0xc96f32=_0x33dbed;return _0x59e156>=this[_0xc96f32(0xd8)]&&_0x59e156<=this[_0xc96f32(0x18c)]&&_0x4e0f5e>=this[_0xc96f32(0x1ff)]&&_0x4e0f5e<=this[_0xc96f32(0x1a6)];}},{'key':'getRandomLatLng','value':function(){var _0x5701d9=_0x33dbed,_0x2687c8=_0x126156(this['xmin'],this['xmax']);return{'lat':_0x126156(this[_0x5701d9(0x1ff)],this['ymax']),'lng':_0x2687c8};}}]),_0x7729c5;}());function _0x126156(_0x226e23,_0x3a3b57){var _0x48ae4e=_0xe8cec3;return _0x226e23+Math[_0x48ae4e(0x136)]()*(_0x3a3b57-_0x226e23);}function _0x8daf84(_0x4e8f10){var _0x4e6733=(function(){var _0x568679=a0_0x2834;if('undefined'==typeof Reflect||!Reflect[_0x568679(0x1ea)])return!0x1;if(Reflect['construct']['sham'])return!0x1;if('function'==typeof Proxy)return!0x0;try{return Boolean[_0x568679(0x221)]['valueOf'][_0x568679(0x1b2)](Reflect[_0x568679(0x1ea)](Boolean,[],function(){})),!0x0;}catch(_0x1662bc){return!0x1;}}());return function(){var _0xd2245a=a0_0x2834,_0x1e59bf,_0x48cf58=_0x2209e2()(_0x4e8f10);if(_0x4e6733){var _0x1867aa=_0x2209e2()(this)[_0xd2245a(0xec)];_0x1e59bf=Reflect['construct'](_0x48cf58,arguments,_0x1867aa);}else _0x1e59bf=_0x48cf58[_0xd2245a(0x229)](this,arguments);return _0x27b80c()(this,_0x1e59bf);};}var _0x4bd524=function(_0x47b2ff){var _0xd5811b=_0xe8cec3;_0x496f9c()(_0x614465,_0x47b2ff);var _0x4daf33=_0x8daf84(_0x614465);function _0x614465(){var _0x5f4850=a0_0x2834,_0x5c438c,_0x48216a=arguments[_0x5f4850(0xba)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x230e53()(this,_0x614465),(_0x5c438c=_0x4daf33['call'](this,_0x48216a))[_0x5f4850(0x1c4)](_0x48216a),_0x5c438c[_0x5f4850(0x1e9)]=null,_0x5c438c;}return _0x5e5c8a()(_0x614465,[{'key':_0xd5811b(0x1c4),'value':function(_0x2dab4c){var _0x564cbb=_0xd5811b;this[_0x564cbb(0x162)]=[0x0,0x0],this['particles']=[],this[_0x564cbb(0x122)]=_0x2dab4c[_0x564cbb(0x122)]||0x32,this[_0x564cbb(0x14a)]=_0x2dab4c[_0x564cbb(0x19e)]||0x4e20,this['_maxAge']=_0x2dab4c['maxAge']||0x78,this['frameTime']=0x3e8/(_0x2dab4c[_0x564cbb(0x106)]||0xa),this[_0x564cbb(0xc2)]=_0x5ac2b1[_0x564cbb(0x1a2)](this[_0x564cbb(0x1a3)]['pointerEvents'],!0x1),this[_0x564cbb(0x10a)]=_0x2dab4c[_0x564cbb(0x10a)]||_0x564cbb(0xdb),this[_0x564cbb(0xc0)]=_0x2dab4c[_0x564cbb(0xc0)]||0x1,this[_0x564cbb(0x170)]=_0x5ac2b1[_0x564cbb(0x1a2)](_0x2dab4c[_0x564cbb(0x170)],0x0),this[_0x564cbb(0xd9)]=_0x5ac2b1[_0x564cbb(0x1a2)](_0x2dab4c[_0x564cbb(0xd9)],!0x1);}},{'key':_0xd5811b(0x1c0),'get':function(){var _0x515d52=_0xd5811b;return this[_0x515d52(0x1e9)];}},{'key':_0xd5811b(0xd0),'get':function(){var _0x5e40d4=_0xd5811b;return this[_0x5e40d4(0x150)][_0x5e40d4(0xc1)]['canvas']['clientWidth'];}},{'key':_0xd5811b(0x17c),'get':function(){var _0x101c30=_0xd5811b;return this[_0x101c30(0x150)]['scene'][_0x101c30(0x1e9)][_0x101c30(0x14e)];}},{'key':_0xd5811b(0xaf),'get':function(){var _0x3da44e=_0xd5811b;return this[_0x3da44e(0xc2)];},'set':function(_0x3b728e){var _0x2fff52=_0xd5811b;this['_pointerEvents']=_0x3b728e,this['canvas']&&(this[_0x2fff52(0x1e9)][_0x2fff52(0x21c)][_0x2fff52(0x1b0)]=_0x3b728e?_0x2fff52(0x147):_0x2fff52(0x134));}},{'key':_0xd5811b(0x122),'get':function(){var _0x5c9f8f=_0xd5811b;return this[_0x5c9f8f(0xed)];},'set':function(_0xad7458){var _0x495b51=_0xd5811b;this[_0x495b51(0xed)]=0x64*(0x64-(_0xad7458>0x63?0x63:_0xad7458)),this[_0x495b51(0x21d)]();}},{'key':'particlesNumber','get':function(){var _0x4b2973=_0xd5811b;return this[_0x4b2973(0x14a)];},'set':function(_0xb8a780){var _0x4549fc=_0xd5811b,_0x20d954=this;this[_0x4549fc(0x14a)]=_0xb8a780,clearTimeout(this[_0x4549fc(0x202)]),this['canrefresh']=setTimeout(function(){var _0x167e7c=_0x4549fc;_0x20d954[_0x167e7c(0xeb)]();},0x1f4);}},{'key':_0xd5811b(0x21b),'get':function(){var _0x1cee05=_0xd5811b;return this[_0x1cee05(0xd6)];},'set':function(_0xbf585d){var _0x4f1b2e=_0xd5811b,_0x5bd6e9=this;this[_0x4f1b2e(0xd6)]=_0xbf585d,clearTimeout(this[_0x4f1b2e(0x202)]),this['canrefresh']=setTimeout(function(){var _0x36daa6=_0x4f1b2e;_0x5bd6e9[_0x36daa6(0xeb)]();},0x1f4);}},{'key':_0xd5811b(0x1ba),'get':function(){var _0x248b03=_0xd5811b;return this[_0x248b03(0x1a8)];},'set':function(_0x2e03b2){var _0x4962cd=_0xd5811b;this[_0x4962cd(0x12c)](_0x2e03b2);}},{'key':_0xd5811b(0x10f),'value':function(_0x2d97ff){var _0x2d00d9=_0xd5811b;_0x2d97ff?this[_0x2d00d9(0x141)]():(this[_0x2d00d9(0x1a8)]&&(this[_0x2d00d9(0x1a3)][_0x2d00d9(0x1ba)]=this['windData']),this[_0x2d00d9(0x1c9)]());}},{'key':_0xd5811b(0x120),'value':function(){}},{'key':'_addedHook','value':function(){var _0x39c5fd=_0xd5811b;this[_0x39c5fd(0x1e9)]=this[_0x39c5fd(0x186)](),this[_0x39c5fd(0x166)]=this[_0x39c5fd(0x1e9)][_0x39c5fd(0xcc)]('2d'),this[_0x39c5fd(0x226)](),this[_0x39c5fd(0x1a3)][_0x39c5fd(0x1ba)]&&this['updateDate'](this[_0x39c5fd(0x1a3)]['data']);}},{'key':'_removedHook','value':function(){var _0xfea521=_0xd5811b;this[_0xfea521(0x16d)](),this[_0xfea521(0xf7)](),this['canvas']&&(this[_0xfea521(0x150)]['container'][_0xfea521(0x144)](this['canvas']),delete this[_0xfea521(0x1e9)]);}},{'key':_0xd5811b(0x186),'value':function(){var _0x1ccb67=_0xd5811b,_0x426c0d=document[_0x1ccb67(0xd2)](_0x1ccb67(0x1e9));_0x426c0d['style'][_0x1ccb67(0x1f7)]=_0x1ccb67(0x109),_0x426c0d[_0x1ccb67(0x21c)][_0x1ccb67(0x21a)]=_0x1ccb67(0x139),_0x426c0d[_0x1ccb67(0x21c)]['left']=_0x1ccb67(0x139),_0x426c0d['style']['width']=_0x1ccb67(0x1d8),_0x426c0d['style']['height']='100%',_0x426c0d[_0x1ccb67(0x21c)][_0x1ccb67(0xaf)]=this[_0x1ccb67(0xc2)]?_0x1ccb67(0x172):_0x1ccb67(0x134),_0x426c0d[_0x1ccb67(0x21c)]['zIndex']=0xa,_0x426c0d['setAttribute']('id',_0x1ccb67(0x188)),_0x426c0d[_0x1ccb67(0xdf)]('class',_0x1ccb67(0x188)),this[_0x1ccb67(0x150)][_0x1ccb67(0x145)][_0x1ccb67(0xd3)](_0x426c0d);var _0x12b12c=this[_0x1ccb67(0x150)]['scene'];return _0x426c0d['width']=_0x12b12c[_0x1ccb67(0x1e9)][_0x1ccb67(0xc8)],_0x426c0d[_0x1ccb67(0x1b6)]=_0x12b12c['canvas']['clientHeight'],_0x426c0d;}},{'key':_0xd5811b(0x1e5),'value':function(){var _0x9bd0fb=_0xd5811b;this[_0x9bd0fb(0x1e9)]&&(this['canvas'][_0x9bd0fb(0x1da)]=this[_0x9bd0fb(0xd0)],this[_0x9bd0fb(0x1e9)][_0x9bd0fb(0x1b6)]=this[_0x9bd0fb(0x17c)]);}},{'key':_0xd5811b(0x226),'value':function(){var _0x2bdeec=_0xd5811b,_0x35dd2e=this,_0x2b46c7=Date[_0x2bdeec(0xbc)]();!function _0x24091b(){var _0xd2469a=_0x2bdeec;_0x35dd2e['animateFrame']=window[_0xd2469a(0x192)](_0x24091b);var _0x24b79f=Date[_0xd2469a(0xbc)](),_0x5f5905=_0x24b79f-_0x2b46c7;_0x5f5905>_0x35dd2e[_0xd2469a(0x195)]&&(_0x2b46c7=_0x24b79f-_0x5f5905%_0x35dd2e[_0xd2469a(0x195)],_0x35dd2e[_0xd2469a(0x13a)]());}(),window[_0x2bdeec(0x1c2)]('resize',this[_0x2bdeec(0x1e5)][_0x2bdeec(0x132)](this),!0x1),this[_0x2bdeec(0x21e)]=!0x1,this[_0x2bdeec(0x131)]=!0x1,this[_0x2bdeec(0x150)]['on'](_0x157332[_0x2bdeec(0xcf)][_0x2bdeec(0x119)],this[_0x2bdeec(0x1ed)],this),this[_0x2bdeec(0x150)]['on'](_0x157332[_0x2bdeec(0xcf)][_0x2bdeec(0xf0)],this[_0x2bdeec(0x11e)],this),this[_0x2bdeec(0x150)]['on'](_0x157332['EventType'][_0x2bdeec(0x124)],this['_onMouseUpEvent'],this),this[_0x2bdeec(0x150)]['on'](_0x157332[_0x2bdeec(0xcf)][_0x2bdeec(0x16f)],this[_0x2bdeec(0x1e8)],this);}},{'key':_0xd5811b(0xf7),'value':function(){var _0x5b75b1=_0xd5811b;window[_0x5b75b1(0x11c)](this['animateFrame']),delete this[_0x5b75b1(0x17e)],window[_0x5b75b1(0x160)](_0x5b75b1(0x1e5),this[_0x5b75b1(0x1e5)]),this['_map'][_0x5b75b1(0xf1)](_0x157332['EventType']['wheel'],this[_0x5b75b1(0x1ed)],this),this[_0x5b75b1(0x150)][_0x5b75b1(0xf1)](_0x157332[_0x5b75b1(0xcf)][_0x5b75b1(0xf0)],this['_onMouseDownEvent'],this),this[_0x5b75b1(0x150)]['off'](_0x157332[_0x5b75b1(0xcf)][_0x5b75b1(0x124)],this['_onMouseUpEvent'],this),this['_map'][_0x5b75b1(0xf1)](_0x157332[_0x5b75b1(0xcf)][_0x5b75b1(0x16f)],this[_0x5b75b1(0x1e8)],this);}},{'key':_0xd5811b(0x1ed),'value':function(_0x4059ef){var _0x35b5e5=_0xd5811b,_0x17a212=this;clearTimeout(this[_0x35b5e5(0x171)]),this[_0x35b5e5(0x161)]&&this[_0x35b5e5(0x1e9)]&&(this[_0x35b5e5(0x1e9)][_0x35b5e5(0x21c)]['visibility']=_0x35b5e5(0x15a),this[_0x35b5e5(0x171)]=setTimeout(function(){var _0x92c0fb=_0x35b5e5;_0x17a212[_0x92c0fb(0x161)]&&(_0x17a212[_0x92c0fb(0xeb)](),_0x17a212['canvas'][_0x92c0fb(0x21c)]['visibility']=_0x92c0fb(0x140));},0xc8));}},{'key':'_onMouseDownEvent','value':function(_0x5dbd01){this['mouse_down']=!0x0;}},{'key':_0xd5811b(0x1e8),'value':function(_0x41a24c){var _0x14c222=_0xd5811b;this[_0x14c222(0x161)]&&this['canvas']&&this[_0x14c222(0x21e)]&&(this[_0x14c222(0x1e9)]['style'][_0x14c222(0x1aa)]=_0x14c222(0x15a),this['mouse_move']=!0x0);}},{'key':_0xd5811b(0x10e),'value':function(_0x1cb92a){var _0x37691f=_0xd5811b;this['show']&&this[_0x37691f(0x1e9)]&&(this['mouse_down']&&this['mouse_move']&&this[_0x37691f(0xeb)](),this['canvas']['style'][_0x37691f(0x1aa)]=_0x37691f(0x140),this[_0x37691f(0x21e)]=!0x1,this[_0x37691f(0x131)]=!0x1);}},{'key':_0xd5811b(0xeb),'value':function(){var _0x48c8d0=_0xd5811b;this[_0x48c8d0(0x161)]&&this[_0x48c8d0(0x198)]&&(this[_0x48c8d0(0x180)]=[],this['drawWind']());}},{'key':_0xd5811b(0x12c),'value':function(_0x233fe1){var _0x57cf89=_0xd5811b;this[_0x57cf89(0x16d)](),this[_0x57cf89(0x1a8)]=_0x233fe1,this['windField']=new _0x58aa78(this['windData'],this[_0x57cf89(0xd9)]),this[_0x57cf89(0x14f)]();}},{'key':_0xd5811b(0x14f),'value':function(){var _0x3e9733=_0xd5811b;this[_0x3e9733(0x21d)]();for(var _0x25a7b0=0x0;_0x25a7b0<this[_0x3e9733(0x19e)];_0x25a7b0++){var _0x55328d=this[_0x3e9733(0x190)](new _0x26d583());this['particles']['push'](_0x55328d);}this[_0x3e9733(0x166)]['fillStyle']='rgba(0,\x200,\x200,\x200.97)',this[_0x3e9733(0x166)][_0x3e9733(0xcd)]=0.6,this['update']();}},{'key':_0xd5811b(0x21d),'value':function(){var _0x9482ed=_0xd5811b;this['windField']&&(this[_0x9482ed(0x162)]=[(this[_0x9482ed(0x198)][_0x9482ed(0x18c)]-this['windField'][_0x9482ed(0xd8)])/this[_0x9482ed(0x122)],(this['windField'][_0x9482ed(0x1a6)]-this[_0x9482ed(0x198)]['ymin'])/this[_0x9482ed(0x122)]]);}},{'key':_0xd5811b(0x13a),'value':function(){var _0x21cbba=_0xd5811b,_0x47debe=this;if(this[_0x21cbba(0x161)]&&!(this['particles'][_0x21cbba(0xba)]<=0x0)){var _0x52e9a2=null,_0x532249=null,_0x13524a=null;this['particles'][_0x21cbba(0x1a1)](function(_0x3d6555){var _0x179c4e=_0x21cbba;if(_0x3d6555[_0x179c4e(0x215)]<=0x0&&_0x47debe['randomParticle'](_0x3d6555),_0x3d6555['age']>0x0){var _0x2633a9=_0x3d6555[_0x179c4e(0x1ae)],_0x279acd=_0x3d6555[_0x179c4e(0x1dc)];(_0x13524a=_0x47debe['windField'][_0x179c4e(0xb9)](_0x2633a9,_0x279acd))?(_0x52e9a2=_0x2633a9+_0x47debe[_0x179c4e(0x162)][0x0]*_0x13524a[0x0],_0x532249=_0x279acd+_0x47debe['calc_speedRate'][0x1]*_0x13524a[0x1],_0x3d6555[_0x179c4e(0x1ad)]=_0x2633a9,_0x3d6555[_0x179c4e(0x11a)]=_0x279acd,_0x3d6555['tlng']=_0x52e9a2,_0x3d6555[_0x179c4e(0x1dc)]=_0x532249,_0x3d6555[_0x179c4e(0x215)]--):_0x3d6555[_0x179c4e(0x215)]=0x0;}}),this[_0x21cbba(0x1a0)]();}}},{'key':'_tomap','value':function(_0x1015ff,_0xcd71fd,_0x1d55b9){var _0xb3b8b6=_0xd5811b,_0x149940=_0x5ac2b1[_0xb3b8b6(0x1b3)][_0xb3b8b6(0x17a)](_0x1015ff,_0xcd71fd,this[_0xb3b8b6(0x170)]),_0x1dc9e7=this[_0xb3b8b6(0x150)]['scene'];if(_0x1dc9e7['mode']===_0x5ac2b1[_0xb3b8b6(0x1d7)]['SCENE3D']&&!new _0x5ac2b1[(_0xb3b8b6(0x16e))](_0x1dc9e7[_0xb3b8b6(0xbd)][_0xb3b8b6(0x1d2)],_0x1dc9e7[_0xb3b8b6(0x182)][_0xb3b8b6(0x1c7)])[_0xb3b8b6(0xf4)](_0x149940))return _0x1d55b9[_0xb3b8b6(0x215)]=0x0,null;var _0x1eaf72=_0x5ac2b1[_0xb3b8b6(0xb3)][_0xb3b8b6(0x133)](this[_0xb3b8b6(0x150)]['scene'],_0x149940);return _0x1eaf72?[_0x1eaf72['x'],_0x1eaf72['y']]:null;}},{'key':'_drawLines','value':function(){var _0x3186bf=_0xd5811b,_0x2942a6=this,_0x1850c0=this[_0x3186bf(0x180)];this[_0x3186bf(0x166)]['lineWidth']=_0x2942a6[_0x3186bf(0xc0)],this[_0x3186bf(0x166)]['globalCompositeOperation']=_0x3186bf(0x20c),this[_0x3186bf(0x166)][_0x3186bf(0x207)](0x0,0x0,this[_0x3186bf(0xd0)],this[_0x3186bf(0x17c)]),this[_0x3186bf(0x166)]['globalCompositeOperation']=_0x3186bf(0xe6),this[_0x3186bf(0x166)]['globalAlpha']=0.9,this[_0x3186bf(0x166)][_0x3186bf(0xb2)](),this[_0x3186bf(0x166)][_0x3186bf(0x157)]=this[_0x3186bf(0x10a)];var _0x4989b6=this['_map'][_0x3186bf(0xc1)][_0x3186bf(0xee)]!==_0x5ac2b1[_0x3186bf(0x1d7)][_0x3186bf(0x12b)];_0x1850c0[_0x3186bf(0x1a1)](function(_0x17859b){var _0x1bb080=_0x3186bf,_0x4b0234=_0x2942a6[_0x1bb080(0x1e6)](_0x17859b[_0x1bb080(0x1ad)],_0x17859b[_0x1bb080(0x11a)],_0x17859b),_0x2a4e89=_0x2942a6[_0x1bb080(0x1e6)](_0x17859b['tlng'],_0x17859b['tlat'],_0x17859b);if(null!=_0x4b0234&&null!=_0x2a4e89){var _0x5e02c1=Math[_0x1bb080(0x1b1)](_0x4b0234[0x0]-_0x2a4e89[0x0]);_0x4989b6&&_0x5e02c1>=_0x2942a6[_0x1bb080(0xd0)]||(_0x2942a6[_0x1bb080(0x166)][_0x1bb080(0x20f)](_0x4b0234[0x0],_0x4b0234[0x1]),_0x2942a6[_0x1bb080(0x166)][_0x1bb080(0x11d)](_0x2a4e89[0x0],_0x2a4e89[0x1]));}}),this[_0x3186bf(0x166)]['stroke']();}},{'key':_0xd5811b(0x190),'value':function(_0x561388){var _0x5aa8d2=_0xd5811b;for(var _0x3278ff,_0x13e21b,_0x28f96b=0x0;_0x28f96b<0x1e&&(_0x3278ff=this[_0x5aa8d2(0x198)][_0x5aa8d2(0x1eb)](),!((_0x13e21b=this[_0x5aa8d2(0x198)][_0x5aa8d2(0xb9)](_0x3278ff[_0x5aa8d2(0x1ad)],_0x3278ff['lat']))&&_0x13e21b[0x2]>0x0));_0x28f96b++);if(!_0x13e21b)return _0x561388;var _0x1ae6be=_0x3278ff[_0x5aa8d2(0x1ad)]+this[_0x5aa8d2(0x162)][0x0]*_0x13e21b[0x0],_0xfa4596=_0x3278ff['lat']+this[_0x5aa8d2(0x162)][0x1]*_0x13e21b[0x1];return _0x561388[_0x5aa8d2(0x1ad)]=_0x3278ff[_0x5aa8d2(0x1ad)],_0x561388[_0x5aa8d2(0x11a)]=_0x3278ff[_0x5aa8d2(0x11a)],_0x561388[_0x5aa8d2(0x1ae)]=_0x1ae6be,_0x561388[_0x5aa8d2(0x1dc)]=_0xfa4596,_0x561388['age']=Math[_0x5aa8d2(0x1fb)](Math['random']()*this[_0x5aa8d2(0x21b)]),_0x561388;}},{'key':'clear','value':function(){var _0x1fdb6d=_0xd5811b;this['particles']=[],delete this[_0x1fdb6d(0x198)],delete this['windData'];}}]),_0x614465;}(_0x157332[_0xe8cec3(0x1c0)][_0xe8cec3(0x1d4)]);function _0x163167(_0x2be71a,_0x3e495f){var _0x53a359=_0xe8cec3;return _0x2be71a*Math[_0x53a359(0x13b)](_0x5ac2b1[_0x53a359(0xcb)][_0x53a359(0x1bd)](_0x3e495f));}function _0x106154(_0x5db6f7,_0x2e0271){var _0x2e36bc=_0xe8cec3;return _0x5db6f7*Math[_0x2e36bc(0xfe)](_0x5ac2b1[_0x2e36bc(0xcb)][_0x2e36bc(0x1bd)](_0x2e0271));}function _0x4a10f0(_0xaad036,_0xf9e3a3){var _0x5942d1=_0xe8cec3;return Math[_0x5942d1(0x210)](Math[_0x5942d1(0x22c)](_0xaad036,0x2)+Math['pow'](_0xf9e3a3,0x2));}function _0x21ca7c(_0x2e4c14,_0xa9f680){var _0x1e3d74=_0xe8cec3,_0x48f843=_0x5ac2b1[_0x1e3d74(0xcb)][_0x1e3d74(0x1c1)](Math[_0x1e3d74(0x137)](_0xa9f680,_0x2e4c14));return _0x48f843+=_0x48f843<0x0?0x168:0x0;}_0x157332[_0xe8cec3(0x205)][_0xe8cec3(0xb7)]('canvasWind',_0x4bd524),_0x157332['layer'][_0xe8cec3(0x1ec)]=_0x4bd524,_0x157332[_0xe8cec3(0x1fe)]=_0x599ed7;}]);}));function a0_0x2834(_0x5e2277,_0x198d19){var _0x1ba0f2=a0_0x1ba0();return a0_0x2834=function(_0x2834fc,_0xf110fd){_0x2834fc=_0x2834fc-0xae;var _0xd9c87c=_0x1ba0f2[_0x2834fc];return _0xd9c87c;},a0_0x2834(_0x5e2277,_0x198d19);}function a0_0x1ba0(){var _0x3baa0f=['width','updateViewerParameters','tlat','vertexArray','dropRateBump','exports','Module','PI_OVER_THREE','max','undefined','WindLayer','resize','_tomap','blending','_onMouseMoveEvent','canvas','construct','getRandomLatLng','CanvasWindLayer','_onMapWhellEvent','sham','windTextures','commandList','getDirection','2FBYnVH','10437686RzlSct','RGB','BoundingSphere','floor','position','createTexture','mars3d-cesium','lon','round','getUVByXY','ALWAYS','WindUtil','ymin','framebuffer','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','canrefresh','ZERO','object','LayerUtil','fill','fillRect','createRawRenderState','rawRenderState','particlesTextureSize','TRIANGLES','destination-in','dimensions','commandToExecute','moveTo','sqrt','autoClear','trails','getPrototypeOf','rows','age','VertexArray','isDestroyed','createSegmentsGeometry','nextParticlesPosition','top','maxAge','style','_calcStep','mouse_down','386735iTyvyF','viewerParameters','prototype','getDefaultRenderState','execute','maxParticles','currentTrailsDepth','bindEvent','screen','string','apply','nextTrails','min','pow','speedFactor','pointerEvents','__proto__','particlesComputing','beginPath','SceneTransforms','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','updatePosition','depthTexture','register','key','getUVByPoint','length','userInput','now','globe','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','particlesRendering','lineWidth','scene','_pointerEvents','TWO_PI','value','mars3dWind','NEAREST','toStringTag','clientWidth','OPAQUE','setData','Math','getContext','globalAlpha','nextTrailsDepth','EventType','canvasWidth','outputTexture','createElement','appendChild','destroy','Draw','_maxAge','geometry','xmin','reverseY','drawingBufferWidth','#ffffff','DISABLE_GL_POSITION_LOG_DEPTH','ShaderProgram','DEPTH_COMPONENT','setAttribute','primitives','getFullscreenQuad','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','removeAll','currentParticlesSpeed','BufferUsage','lighter','createFramebuffer','globeBoundingSphere','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','currentTrails','redraw','constructor','_speedRate','mode','clearCommand','mouseDown','off','hasOwnProperty','fragmentShaderSource','isPointVisible','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','nextParticlesSpeed','unbindEvent','segmentsDepth','context','getSpeed','north','createRenderingTextures','addPrimitives','sin','createRenderingPrimitives','5034416woxDYP','particlesTextures','viewRectangleToLonLatRange','fromGeometry','colorNum','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','frameRate','pixelSize','_calcUV','absolute','color','ceil','lev','78hOtxrl','_onMouseUpEvent','_showHook','ComponentDatatype','attributeLocations','refreshParticles','function','add','iterator','commandType','create','segmentsColor','wheel','lat','vertexShaderSource','cancelAnimationFrame','lineTo','_onMouseDownEvent','push','_mountedHook','segments','speedRate','computeViewRectangle','mouseUp','defineProperty','toGridXY','DrawCommand','mod','PrimitiveCollection','enumerable','SCENE3D','updateDate','Framebuffer','colorTable','clearFramebuffers','Cartesian2','mouse_move','bind','wgs84ToWindowCoordinates','none','nextTrailsColor','random','atan2','104540NrKRKu','0px','update','cos','STATIC_DRAW','getWind','defined','currentTrailsColor','visible','_addedHook','Compute','randomBetween','removeChild','container','vdata','all','preExecute','298860kJhImd','_particlesNumber','getPixelSize','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','dropRate','clientHeight','drawWind','_map','remove','framebuffers','PI_OVER_TWO','RenderState','symbol','arrayBufferView','strokeStyle','Cesium','isInExtent','hidden','PixelDatatype','writable','destroyParticlesTextures','12087600fQBaif','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','removeEventListener','show','calc_speedRate','mars3d','shaderProgram','wind','canvasContext','TextureMagnificationFilter','particleHeight','clampToLatitudeRange','Pass','randomizeParticles','UNSIGNED_INT','clear','EllipsoidalOccluder','mouseMove','fixedHeight','refreshTimer','auto','west','primitiveType','preRender','TextureMinificationFilter','GeometryAttribute','keys','lonRange','fromDegrees','LUMINANCE','canvasHeight','Sampler','animateFrame','ComputeCommand','particles','postProcessingSpeed','camera','valueOf','particlesWind','_bilinearInterpolation','_createCanvas','136082OJoLPE','canvasWindy','__esModule','getUserInput','792szOOqD','xmax','default','PixelFormat','udata','randomParticle','GeometryAttributes','requestAnimationFrame','canvasResize','amd','frameTime','drawingBufferHeight','currentParticlesPosition','windField','fadeOpacity','Appearance','textures','getColorTexture','ShaderSource','particlesNumber','fromCache','_drawLines','forEach','defaultValue','options','updateSpeed','createParticlesTextures','ymax','createRenderingFramebuffers','windData','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','visibility','LINEAR','setPrototypeOf','lng','tlng','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','pointer-events','abs','call','Cartesian3','array','FLOAT','height','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','setOptions','log','data','grid','PrimitiveType','toRadians','createCommand','Color','layer','toDegrees','addEventListener','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','_setOptionsHook','uniformMap','configurable','positionWC','particleSystem','_removedHook','createWindTextures','_onMap_preRenderEvent','ClearCommand','Matrix4','south','DepthFunction','applyViewerParameters','depthMask','ellipsoid','Geometry','BaseLayer','postProcessingPosition','latRange','SceneMode','100%','cols'];a0_0x1ba0=function(){return _0x3baa0f;};return a0_0x1ba0();}