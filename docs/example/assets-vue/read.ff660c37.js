import{m as e,u as t,x as s,y as a,o,q as i,z as n,f as l,c as r,b as c,F as d,A as u,h as m,e as p,s as f,B as w}from"./common.d35d5a69.js";import{w as b,_ as g,M as v,d as h,C as x,s as y,a as P,b as U,g as j}from"./style.4dfcf88f.js";const k=e({__name:"App",setup(e){const p=b.exports.useWidgetStore(),f=t(!1),w=s((()=>p.state.widgets)),y=s((()=>p.state.openAtStart));let P=null;a("getMapInstance",(()=>P));function U(){var e;window.marsEditor.useLifecycle(),e=window._mapInstance,P=e,f.value=!0}return(e,t)=>(o(),i(u(x),{locale:u(h)},{default:n((()=>[l(g,{onChildMounted:U}),f.value?(o(!0),r(d,{key:0},c(u(w),(e=>(o(),r(d,{key:e.key},[u(y).includes(e.name)&&e.visible?(o(),i(v,{key:0,visible:e.visible,"onUpdate:visible":t=>e.visible=t,widget:e},null,8,["visible","onUpdate:visible","widget"])):m("",!0)],64)))),128)):m("",!0)])),_:1},8,["locale"]))}});"https:"===window.location.protocol&&(window.location.href=window.location.href.replace("https","http")),document.oncontextmenu=function(e){e.preventDefault()};const I=new p.exports.Editor({baseUrl:"/gis/",fullScreen:"1",alwaysUseOrigin:!1,configLibs:window.configLibs,resourcePublicPath:"gis/example",thumbnailPublicPath:"/config/",libPublicPath:"/lib/",framework:"vue",configSourceUrl:"/gis/config/example.json",UIFile:"{main}/index.vue"});window.marsEditor=I;let S,_=!1;I.on("loaded",(t=>{_&&(S.unmount(),S=null),function(t){if(t)S=f(e({template:"<div><div>"}));else{S=f(k);const e=b.exports.getInjectKey();S.use(b.exports.injectState(w.exports.cloneDeep(y)),e)}P(S,{dialog:{position:{left:50,bottom:50},warpper:"#mars-main-view"}}),S.mount("#mars-ui-root")}(!t.hasPannel),_=!0})),I.render(document.getElementById("root"),U(),j("name"));
