import{L as e}from"./layer-state.0f5d0acd.js";import{m as a,u as t,n as s,r as d,o as i,c as o,f as r,z as c,a as l,t as n,F as h}from"./common.d35d5a69.js";import"./style.4dfcf88f.js";const p=["title"],u=a({__name:"index",setup(a){const u=window.mapWork,f=t([{title:"全部",key:0,id:-1,children:[]}]),m=t([]),y=t([]);y.value.push(0);let v={};u.treeEvent.on("tree",(e=>{!function(e){f.value[0].children=[],v={};const a=[],t=[];for(let s=0;s<e.length;s++){const d=e[s];if(d){const e="01-"+Math.random();a.push({title:d.airportName,key:e,id:d.graphic.id}),d.graphic.show&&t.push(e),v[d.graphic.id]=d}}f.value[0].children=a,s((()=>{m.value=t}))}(e.data)}));const g=(e,a)=>{const t=a.checked,s=v[a.node.id];-1!==a.node.id?t?(s.graphic.show=t,s.graphic.flyTo()):s.graphic.show=t:Object.keys(v).forEach((e=>{v[e].graphic.show=t}))};return(a,t)=>{const s=d("mars-dialog"),u=d("mars-tree");return i(),o(h,null,[r(s,{visible:!0,right:"10",top:"10"},{default:c((()=>[r(e)])),_:1}),r(s,{visible:!0,right:"10",top:"64",width:"250"},{default:c((()=>[r(u,{checkable:"","tree-data":f.value,onCheck:g,checkedKeys:m.value,"onUpdate:checkedKeys":t[0]||(t[0]=e=>m.value=e),expandedKeys:y.value,"onUpdate:expandedKeys":t[1]||(t[1]=e=>y.value=e)},{title:c((({title:e})=>[l("span",{class:"tree-style",title:e},n(e),9,p)])),_:1},8,["tree-data","checkedKeys","expandedKeys"])])),_:1})],64)}}});export{u as default};
