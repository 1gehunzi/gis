import{_ as a,m as l,u as e,x as s,r as t,o as n,q as u,z as r,a as o,f as d,i as c,w as i,t as v,j as f,A as p,Y as m,p as g,l as _}from"./common.3f7aa84a.js";import{e as h}from"./style.4416799a.js";const b=a=>(g("data-v-a13caa4c"),a=a(),_(),a),k={class:"arcgis-contain"},w={class:"f-mb"},y=b((()=>o("span",null,"名称",-1))),C={class:"f-mb"},x=b((()=>o("span",null,"范围",-1))),I={class:"f-mb"},P=b((()=>o("span",null,"操作",-1))),j={class:"f-mb"},q={class:"f-mb querybar-fr"};var S=a(l({__name:"index",setup(a){const l=window.mapWork,g=e(""),_=e(0),b=e(0),S=e(0),T=s((()=>z.value.length>0)),z=e([]),A=e([{title:"名称",dataIndex:"name",key:"name",align:"center"},{title:"类型",dataIndex:"type",key:"type",align:"center",width:50},{title:"地址",dataIndex:"address",key:"address",align:"center"}]);l.eventTarget.on("beforUI",(function(a){z.value=[],a.list.forEach(((a,l)=>{z.value.push({key:l,name:a["项目名称"],type:a["设施类型"],address:a["具体位置"],graphic:a.graphic})}))})),l.eventTarget.on("result",(a=>{_.value=a.result.allCount,S.value=a.result.allPage,b.value=a.result.pageIndex}));const U=a=>({onClick:()=>{null!=a.graphic?l.flyToGraphic(m(a.graphic)):h(a.name+" 无经纬度坐标信息！")}}),E=()=>{l.drawRectangle()},F=()=>{l.drawCircle()},G=()=>{l.drawPolygon()},N=()=>{l.query(m(g.value))},R=()=>{z.value=[],l.clearAll()},W=()=>{l.showFirstPage()},Y=()=>{l.showPretPage()},B=()=>{l.showNextPage()};return(a,l)=>{const e=t("mars-input"),s=t("a-space"),m=t("mars-button"),h=t("mars-table"),D=t("a-form"),H=t("mars-dialog");return n(),u(H,{visible:!0,right:"10",top:"10",width:"360"},{default:r((()=>[o("div",k,[d(D,null,{default:r((()=>[o("div",w,[d(s,null,{default:r((()=>[y,d(e,{class:"inputServe",value:g.value,"onUpdate:value":l[0]||(l[0]=a=>g.value=a),placeholder:"请输入查询关键字"},null,8,["value"])])),_:1})]),o("div",C,[d(s,null,{default:r((()=>[x,d(m,{onClick:E},{default:r((()=>[c(" 框选范围 ")])),_:1}),d(m,{onClick:F},{default:r((()=>[c("圆形范围")])),_:1}),d(m,{onClick:G},{default:r((()=>[c("多边形范围")])),_:1})])),_:1})]),o("div",I,[d(s,null,{default:r((()=>[P,d(m,{onClick:N},{default:r((()=>[c("查询")])),_:1}),d(m,{onClick:R},{default:r((()=>[c("清除")])),_:1})])),_:1})]),i(o("div",null,[o("div",j,[d(h,{pagination:!1,dataSource:z.value,columns:A.value,"custom-row":U,size:"small",bordered:""},null,8,["dataSource","columns"])]),o("div",q,[d(s,null,{default:r((()=>[o("span",null,"找到"+v(_.value)+"条结果",1),c(" 第"+v(b.value)+"/"+v(S.value)+"页 ",1),d(m,{class:"button",onClick:W},{default:r((()=>[c("首页")])),_:1}),d(m,{class:"button",onClick:Y},{default:r((()=>[c("<")])),_:1}),d(m,{class:"button",onClick:B},{default:r((()=>[c(">")])),_:1})])),_:1})])],512),[[f,p(T)]])])),_:1})])])),_:1})}}}),[["__scopeId","data-v-a13caa4c"]]);export{S as default};
