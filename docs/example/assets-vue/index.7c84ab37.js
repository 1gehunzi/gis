import{L as e}from"./layer-state.8ee33671.js";import{m as a,u as t,n as s,r as l,o,c,f as n,z as i,i as d,a as r,t as h,F as u}from"./common.844f22a1.js";import"./style.6171c800.js";const k={class:"f-pt"},p=["title"],f=a({__name:"index",setup(a){const f=window.mapWork,y=t([{title:"全部",key:0,id:-1,children:[]}]),v=t([]),m=t([]);m.value.push(0);const w={};f.treeEvent.on("tree",(e=>{!function(e){const a=e.treeData,t=[],l=[];for(let s=0;s<a.length;s++){const e=a[s].graphic;if(e){const a={title:e.name||"未命名",key:e.id};t.push(a),l.push(a.key),w[a.key]=e}}y.value[0].children=t,s((()=>{v.value=l}))}(e)}));const _=(e,a)=>{const t=a.node;!t.children&&t.checked&&(w[t.key].show=!1),t.children||t.checked||(w[t.key].show=!0),-1===t.id&&t.checked&&t.children.forEach((e=>{w[e.key].show=!1})),-1!==t.id||t.checked||t.children.forEach((e=>{w[e.key].show=!0})),f.flyToEntity()};const g=()=>{v.value=[],f.shoRailway()},C=()=>{v.value=[],f.showExpressway()},x=()=>{v.value=[],f.showMeteorological()},K=()=>{v.value=[],f.showGDP()},E=()=>{v.value=[],f.showSafetyNotice()};return(a,t)=>{const s=l("mars-button"),f=l("a-space"),w=l("mars-dialog"),b=l("mars-tree");return o(),c(u,null,[n(w,{visible:!0,right:"10",top:"10",height:"90"},{default:i((()=>[n(f,null,{default:i((()=>[n(s,{onClick:g},{default:i((()=>[d("铁路")])),_:1}),n(s,{onClick:C},{default:i((()=>[d("高速公路")])),_:1}),n(s,{onClick:x},{default:i((()=>[d("气象等值面")])),_:1}),n(s,{onClick:K},{default:i((()=>[d("国家GDP数据")])),_:1}),n(s,{onClick:E},{default:i((()=>[d("海上安全通告")])),_:1})])),_:1}),r("div",k,[n(e)])])),_:1}),n(w,{visible:!0,right:"10",top:"120",customClass:"pannel"},{default:i((()=>[n(b,{checkable:"","tree-data":y.value,onCheck:_,checkedKeys:v.value,"onUpdate:checkedKeys":t[0]||(t[0]=e=>v.value=e),expandedKeys:m.value,"onUpdate:expandedKeys":t[1]||(t[1]=e=>m.value=e)},{title:i((({title:e})=>[r("span",{title:e},h(e),9,p)])),_:1},8,["tree-data","checkedKeys","expandedKeys"])])),_:1})],64)}}});export{f as default};
