import{m as e,u as t,x as o,y as s,o as a,q as i,z as n,f as l,c,b as r,F as u,A as d,h as m,e as p,s as w,B as b}from"./common.dccae925.js";import{w as f,_ as g,M as v,d as h,C as x,g as y,s as P,a as j,b as k}from"./style.1b4b1182.js";const I=e({__name:"App",setup(e){const p=f.exports.useWidgetStore(),w=t(!1),b=o((()=>p.state.widgets)),y=o((()=>p.state.openAtStart));let P=null;s("getMapInstance",(()=>P));function j(){var e;window.marsEditor.useLifecycle(),e=window._mapInstance,P=e,w.value=!0}return(e,t)=>(a(),i(d(x),{locale:d(h)},{default:n((()=>[l(g,{onChildMounted:j}),w.value?(a(!0),c(u,{key:0},r(d(b),(e=>(a(),c(u,{key:e.key},[d(y).includes(e.name)&&e.visible?(a(),i(v,{key:0,visible:e.visible,"onUpdate:visible":t=>e.visible=t,widget:e},null,8,["visible","onUpdate:visible","widget"])):m("",!0)],64)))),128)):m("",!0)])),_:1},8,["locale"]))}});"https:"===window.location.protocol&&(window.location.href=window.location.href.replace("https","http")),document.oncontextmenu=function(e){e.preventDefault()};const S=new p.exports.Editor({baseUrl:"/gis/",code:y("code"),fullScreen:y("full"),configLibs:window.configLibs,resourcePublicPath:"/gis/example",thumbnailPublicPath:"/config/",libPublicPath:"/lib/",framework:"vue",configSourceUrl:"/gis/config/example.json",UIFile:"{main}/index.vue"});window.marsEditor=S;let U,_=!1;S.on("loaded",(t=>{_&&(U.unmount(),U=null),function(t){if(t)U=w(e({template:"<div><div>"}));else{U=w(I);const e=f.exports.getInjectKey();U.use(f.exports.injectState(b.exports.cloneDeep(P)),e)}j(U,{dialog:{position:{left:50,bottom:50},warpper:"#mars-main-view"}}),U.mount("#mars-ui-root")}(!t.hasPannel),_=!0})),S.render(document.getElementById("root"),k(),y("name"));
