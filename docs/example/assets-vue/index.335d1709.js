import{_ as a,m as l,u as e,x as s,r as t,o as n,q as u,z as r,a as d,f as o,i as c,w as i,t as f,j as v,A as p,Y as m,p as g,l as _}from"./common.d35d5a69.js";import{e as h}from"./style.4dfcf88f.js";const b=a=>(g("data-v-a13caa4c"),a=a(),_(),a),k={class:"arcgis-contain"},w={class:"f-mb"},y=b((()=>d("span",null,"名称",-1))),C={class:"f-mb"},x=b((()=>d("span",null,"范围",-1))),I={class:"f-mb"},P=b((()=>d("span",null,"操作",-1))),j={class:"f-mb"},q={class:"f-mb querybar-fr"};var S=a(l({__name:"index",setup(a){const l=window.mapWork,g=e(""),_=e(0),b=e(0),S=e(0),T=s((()=>z.value.length>0)),z=e([]),A=e([{title:"名称",dataIndex:"name",key:"name",align:"center"},{title:"类型",dataIndex:"type",key:"type",align:"center",width:50},{title:"地址",dataIndex:"address",key:"address",align:"center"}]);l.eventTarget.on("beforUI",(function(a){z.value=[],a.list.forEach(((a,l)=>{z.value.push({key:l,name:a["项目名称"],type:a["设施类型"],address:a["具体位置"],graphic:a.graphic})}))})),l.eventTarget.on("result",(a=>{_.value=a.result.allCount,S.value=a.result.allPage,b.value=a.result.pageIndex}));const U=a=>({onClick:()=>{null!=a.graphic?l.flyToGraphic(m(a.graphic)):h(a.name+" 无经纬度坐标信息！")}}),E=()=>{l.drawRectangle()},F=()=>{l.drawCircle()},G=()=>{l.drawPolygon()},N=()=>{l.query(m(g.value))},R=()=>{z.value=[],l.clearAll()},W=()=>{l.showFirstPage()},Y=()=>{l.showPretPage()},B=()=>{l.showNextPage()};return(a,l)=>{const e=t("mars-input"),s=t("a-space"),m=t("mars-button"),h=t("mars-table"),D=t("a-form"),H=t("mars-dialog");return n(),u(H,{visible:!0,right:"10",top:"10",width:"360"},{default:r((()=>[d("div",k,[o(D,null,{default:r((()=>[d("div",w,[o(s,null,{default:r((()=>[y,o(e,{class:"inputServe",value:g.value,"onUpdate:value":l[0]||(l[0]=a=>g.value=a),placeholder:"请输入查询关键字"},null,8,["value"])])),_:1})]),d("div",C,[o(s,null,{default:r((()=>[x,o(m,{onClick:E},{default:r((()=>[c(" 框选范围 ")])),_:1}),o(m,{onClick:F},{default:r((()=>[c("圆形范围")])),_:1}),o(m,{onClick:G},{default:r((()=>[c("多边形范围")])),_:1})])),_:1})]),d("div",I,[o(s,null,{default:r((()=>[P,o(m,{onClick:N},{default:r((()=>[c("查询")])),_:1}),o(m,{onClick:R},{default:r((()=>[c("清除")])),_:1})])),_:1})]),i(d("div",null,[d("div",j,[o(h,{pagination:!1,dataSource:z.value,columns:A.value,"custom-row":U,size:"small",bordered:""},null,8,["dataSource","columns"])]),d("div",q,[o(s,null,{default:r((()=>[d("span",null,"找到"+f(_.value)+"条结果",1),c(" 第"+f(b.value)+"/"+f(S.value)+"页 ",1),o(m,{class:"button",onClick:W},{default:r((()=>[c("首页")])),_:1}),o(m,{class:"button",onClick:Y},{default:r((()=>[c("<")])),_:1}),o(m,{class:"button",onClick:B},{default:r((()=>[c(">")])),_:1})])),_:1})])],512),[[v,p(T)]])])),_:1})])])),_:1})}}}),[["__scopeId","data-v-a13caa4c"]]);export{S as default};
