import{L as e}from"./layer-state.55470469.js";import{m as a,u as t,n as s,r as i,o,c as r,f as c,z as d,a as l,t as n,F as h}from"./common.dccae925.js";import"./style.1b4b1182.js";const p=["title"],u=a({__name:"index",setup(a){const u=window.mapWork,m=t([{title:"全部",key:0,id:-1,children:[]}]),y=t([]),v=t([]);v.value.push(0);let f={};u.treeEvent.on("tree",(e=>{!function(e){m.value[0].children=[],f={};const a=[],t=[];for(let s=0;s<e.length;s++){const i=e[s];if(i){const e="01-"+Math.random();a.push({title:i.airportName,key:e,id:i.graphic.id}),i.graphic.show&&t.push(e),f[i.graphic.id]=i}}m.value[0].children=a,s((()=>{y.value=t}))}(e.data)}));const g=(e,a)=>{const t=a.checked,s=f[a.node.id];-1!==a.node.id?t?(s.graphic.show=t,s.graphic.flyTo()):s.graphic.show=t:Object.keys(f).forEach((e=>{f[e].graphic.show=t}))};return(a,t)=>{const s=i("mars-dialog"),u=i("mars-tree");return o(),r(h,null,[c(s,{visible:!0,right:"10",top:"10"},{default:d((()=>[c(e)])),_:1}),c(s,{visible:!0,right:"10",top:"64",width:"250"},{default:d((()=>[c(u,{checkable:"","tree-data":m.value,onCheck:g,checkedKeys:y.value,"onUpdate:checkedKeys":t[0]||(t[0]=e=>y.value=e),expandedKeys:v.value,"onUpdate:expandedKeys":t[1]||(t[1]=e=>v.value=e)},{title:d((({title:e})=>[l("span",{class:"tree-style",title:e},n(e),9,p)])),_:1},8,["tree-data","checkedKeys","expandedKeys"])])),_:1})],64)}}});export{u as default};
